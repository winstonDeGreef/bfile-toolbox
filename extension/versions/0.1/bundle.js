var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(s)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(e){let t;return l(e,(e=>t=e))(),t}function c(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,s,r){return e[1]&&r?n(s.ctx.slice(),e[1](r(t))):s.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function f(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const h="undefined"!=typeof window;let g=h?()=>window.performance.now():()=>Date.now(),_=h?e=>requestAnimationFrame(e):e;const y=new Set;function v(e){y.forEach((t=>{t.c(e)||(y.delete(t),t.f())})),0!==y.size&&_(v)}function b(e){let t;return 0===y.size&&_(v),{promise:new Promise((n=>{y.add(t={c:e,f:n})})),abort(){y.delete(t)}}}function x(e,t){e.appendChild(t)}function k(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function $(e){const t=S("style");return function(e,t){x(e.head||e,t),t.sheet}(k(e),t),t.sheet}function w(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function T(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function E(){return I(" ")}function A(){return I("")}function C(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function z(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e){return""===e?null:+e}function O(e,t){t=""+t,e.data!==t&&(e.data=t)}function Z(e,t){e.value=null==t?"":t}function j(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function M(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function D(e){const t=e.querySelector(":checked");return t&&t.__value}function P(e,t,n){e.classList[n?"add":"remove"](t)}class q{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var s;this.e||(this.is_svg?this.e=(s=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",s)):this.e=S(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}function F(e,t){return new e(t)}const B=new Map;let U,V=0;function G(e,t,n,s,r,i,a,o=0){const l=16.666/s;let u="{\n";for(let e=0;e<=1;e+=l){const s=t+(n-t)*i(e);u+=100*e+`%{${a(s,1-s)}}\n`}const c=u+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${o}`,p=k(e),{stylesheet:m,rules:f}=B.get(p)||function(e,t){const n={stylesheet:$(t),rules:{}};return B.set(e,n),n}(p,e);f[d]||(f[d]=!0,m.insertRule(`@keyframes ${d} ${c}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${s}ms linear ${r}ms 1 both`,V+=1,d}function H(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),V-=r,V||_((()=>{V||(B.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)})),B.clear())})))}function W(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const s=getComputedStyle(e),r="none"===s.transform?"":s.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function K(e){U=e}function X(){if(!U)throw new Error("Function called outside component initialization");return U}function J(e){X().$$.on_mount.push(e)}const Y=[],Q=[];let ee=[];const te=[],ne=Promise.resolve();let se=!1;function re(e){ee.push(e)}function ie(e){te.push(e)}const ae=new Set;let oe,le=0;function ue(){if(0!==le)return;const e=U;do{try{for(;le<Y.length;){const e=Y[le];le++,K(e),ce(e.$$)}}catch(e){throw Y.length=0,le=0,e}for(K(null),Y.length=0,le=0;Q.length;)Q.pop()();for(let e=0;e<ee.length;e+=1){const t=ee[e];ae.has(t)||(ae.add(t),t())}ee.length=0}while(Y.length);for(;te.length;)te.pop()();se=!1,ae.clear(),K(e)}function ce(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}function de(){return oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe}function pe(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}(`${t?"intro":"outro"}${n}`))}const me=new Set;let fe;function he(){fe={r:0,c:[],p:fe}}function ge(){fe.r||i(fe.c),fe=fe.p}function _e(e,t){e&&e.i&&(me.delete(e),e.i(t))}function ye(e,t,n,s){if(e&&e.o){if(me.has(e))return;me.add(e),fe.c.push((()=>{me.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const ve={duration:0};function be(e,t){const n=t.token={};function s(e,s,r,i){if(t.token!==n)return;t.resolved=i;let a=t.ctx;void 0!==r&&(a=a.slice(),a[r]=i);const o=e&&(t.current=e)(a);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==s&&e&&(he(),ye(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),ge())})):t.block.d(1),o.c(),_e(o,1),o.m(t.mount(),t.anchor),l=!0),t.block=o,t.blocks&&(t.blocks[s]=o),l&&ue()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}else{const n=X();if(e.then((e=>{K(n),s(t.then,1,t.value,e),K(null)}),(e=>{if(K(n),s(t.catch,2,t.error,e),K(null),!t.hasCatch)throw e})),t.current!==t.pending)return s(t.pending,0),!0}var r}function xe(e,t){e.f(),function(e,t){ye(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function ke(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function $e(e){e&&e.c()}function we(e,t,n,r){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),r||re((()=>{const t=e.$$.on_mount.map(s).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),l.forEach(re)}function Ne(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ee.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),ee=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Te(e,t){-1===e.$$.dirty[0]&&(Y.push(e),se||(se=!0,ne.then(ue)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Se(t,n,s,a,o,l,u,c=[-1]){const d=U;K(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:o,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||d.$$.root};u&&u(p.root);let m=!1;if(p.ctx=s?s(t,n.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),m&&Te(t,e)),n})):[],p.update(),m=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(N)}else p.fragment&&p.fragment.c();n.intro&&_e(t.$$.fragment),we(t,n.target,n.anchor,n.customElement),ue()}K(d)}class Ie{$destroy(){Ne(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ee=[];function Ae(t,n=e){let s;const r=new Set;function i(e){if(o(t,e)&&(t=e,s)){const e=!Ee.length;for(const e of r)e[1](),Ee.push(e,t);if(e){for(let e=0;e<Ee.length;e+=2)Ee[e][0](Ee[e+1]);Ee.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,o=e){const l=[a,o];return r.add(l),1===r.size&&(s=n(i)||e),a(t),()=>{r.delete(l),0===r.size&&s&&(s(),s=null)}}}}function Ce(e){const t=e-1;return t*t*t+1}function ze(e,{delay:n=0,duration:s=400,easing:r=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:r,css:e=>"opacity: "+e*i}}function Le(e,{delay:t=0,duration:n=400,easing:s=Ce,x:r=0,y:i=0,opacity:a=0}={}){const o=getComputedStyle(e),l=+o.opacity,u="none"===o.transform?"":o.transform,c=l*(1-a),[d,p]=f(r),[m,h]=f(i);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*d}${p}, ${(1-e)*m}${h});\n\t\t\topacity: ${l-c*t}`}}function Re(e,{from:t,to:n},s={}){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform,[o,l]=r.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*o/n.width-(n.left+o),c=t.top+t.height*l/n.height-(n.top+l),{delay:d=0,duration:p=(e=>120*Math.sqrt(e)),easing:m=Ce}=s;return{delay:d,duration:a(p)?p(Math.sqrt(u*u+c*c)):p,easing:m,css:(e,s)=>{const r=s*u,a=s*c,o=e+s*t.width/n.width,l=e+s*t.height/n.height;return`transform: ${i} translate(${r}px, ${a}px) scale(${o}, ${l});`}}}const Oe={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};const Ze=function(){const{subscribe:e,update:t}=Ae(new Array),n={};let s=0;function r(e){return e instanceof Object}return{subscribe:e,push:function(e,i){const a={target:"default",...r(e)?e:{...i,msg:e}},o=n[a.target]||{},l={...Oe,...o,...a,theme:{...o.theme,...a.theme},classes:[...o.classes||[],...a.classes||[]],id:++s};return t((e=>l.reversed?[...e,l]:[l,...e])),s},pop:function(e){t((t=>{if(!t.length||0===e)return[];if("function"==typeof e)return t.filter((t=>e(t)));if(r(e))return t.filter((t=>t.target!==e.target));const n=e||Math.max(...t.map((e=>e.id)));return t.filter((e=>e.id!==n))}))},set:function(e,n){const s=r(e)?e:{...n,id:e};t((e=>{const t=e.findIndex((e=>e.id===s.id));return t>-1&&(e[t]={...e[t],...s}),e}))},_init:function(e="default",t={}){return n[e]=t,n}}}();function je(e){return"[object Date]"===Object.prototype.toString.call(e)}function Me(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>Me(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(je(e)&&je(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),s={};return n.forEach((n=>{s[n]=Me(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=s[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function De(t){let n,s,r=t[0].msg+"";return{c(){n=new q(!1),s=A(),n.a=s},m(e,t){n.m(r,e,t),w(e,s,t)},p(e,t){1&t&&r!==(r=e[0].msg+"")&&n.p(r)},i:e,o:e,d(e){e&&N(s),e&&n.d()}}}function Pe(e){let t,s,r;const i=[e[2]];var a=e[0].component.src;function o(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return a&&(t=F(a,o())),{c(){t&&$e(t.$$.fragment),s=A()},m(e,n){t&&we(t,e,n),w(e,s,n),r=!0},p(e,n){const r=4&n?function(e,t){const n={},s={},r={$$scope:1};let i=e.length;for(;i--;){const a=e[i],o=t[i];if(o){for(const e in a)e in o||(s[e]=1);for(const e in o)r[e]||(n[e]=o[e],r[e]=1);e[i]=o}else for(const e in a)r[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}(i,[(l=e[2],"object"==typeof l&&null!==l?l:{})]):{};var l;if(1&n&&a!==(a=e[0].component.src)){if(t){he();const e=t;ye(e.$$.fragment,1,0,(()=>{Ne(e,1)})),ge()}a?(t=F(a,o()),$e(t.$$.fragment),_e(t.$$.fragment,1),we(t,s.parentNode,s)):t=null}else a&&t.$set(r)},i(e){r||(t&&_e(t.$$.fragment,e),r=!0)},o(e){t&&ye(t.$$.fragment,e),r=!1},d(e){e&&N(s),t&&Ne(t,e)}}}function qe(t){let n,s,r;return{c(){n=S("div"),L(n,"class","_toastBtn pe svelte-95rq8t"),L(n,"role","button"),L(n,"tabindex","0")},m(e,i){w(e,n,i),s||(r=[C(n,"click",t[4]),C(n,"keydown",t[8])],s=!0)},p:e,d(e){e&&N(n),s=!1,i(r)}}}function Fe(e){let t,n,s,r,a,o,l,u,c,d;const p=[Pe,De],m=[];function f(e,t){return e[0].component?0:1}s=f(e),r=m[s]=p[s](e);let h=e[0].dismissable&&qe(e);return{c(){t=S("div"),n=S("div"),r.c(),a=E(),h&&h.c(),o=E(),l=S("progress"),L(n,"role","status"),L(n,"class","_toastMsg svelte-95rq8t"),P(n,"pe",e[0].component),L(l,"class","_toastBar svelte-95rq8t"),l.value=e[1],L(t,"class","_toastItem svelte-95rq8t"),P(t,"pe",e[0].pausable)},m(r,i){w(r,t,i),x(t,n),m[s].m(n,null),x(t,a),h&&h.m(t,null),x(t,o),x(t,l),u=!0,c||(d=[C(t,"mouseenter",e[9]),C(t,"mouseleave",e[6])],c=!0)},p(e,[i]){let a=s;s=f(e),s===a?m[s].p(e,i):(he(),ye(m[a],1,1,(()=>{m[a]=null})),ge(),r=m[s],r?r.p(e,i):(r=m[s]=p[s](e),r.c()),_e(r,1),r.m(n,null)),(!u||1&i)&&P(n,"pe",e[0].component),e[0].dismissable?h?h.p(e,i):(h=qe(e),h.c(),h.m(t,o)):h&&(h.d(1),h=null),(!u||2&i)&&(l.value=e[1]),(!u||1&i)&&P(t,"pe",e[0].pausable)},i(e){u||(_e(r),u=!0)},o(e){ye(r),u=!1},d(e){e&&N(t),m[s].d(),h&&h.d(),c=!1,i(d)}}}function Be(e,t="undefined"){return typeof e===t}function Ue(e,s,r){let i,a,{item:o}=s,l=o.initial,u=l,d=!1,p={};const m=function(e,s={}){const r=Ae(e);let i,a=e;function o(o,l){if(null==e)return r.set(e=o),Promise.resolve();a=o;let u=i,c=!1,{delay:d=0,duration:p=400,easing:m=t,interpolate:f=Me}=n(n({},s),l);if(0===p)return u&&(u.abort(),u=null),r.set(e=a),Promise.resolve();const h=g()+d;let _;return i=b((t=>{if(t<h)return!0;c||(_=f(e,o),"function"==typeof p&&(p=p(e,o)),c=!0),u&&(u.abort(),u=null);const n=t-h;return n>p?(r.set(e=o),!1):(r.set(e=_(m(n/p))),!0)})),i.promise}return{set:o,update:(t,n)=>o(t(a,e),n),subscribe:r.subscribe}}(o.initial,{duration:o.duration,easing:t});function f(){Ze.pop(o.id)}function h(){1!==i&&0!==i||f()}function _(){d||i===l||(m.set(i,{duration:0}),d=!0)}function y(){if(d){const e=o.duration,t=e-e*((i-u)/(l-u));m.set(l,{duration:t}).then(h),d=!1}}var v;c(e,m,(e=>r(1,i=e))),J((function(e=document){if(Be(e.hidden))return;const t=()=>e.hidden?_():y(),n="visibilitychange";e.addEventListener(n,t),a=()=>e.removeEventListener(n,t),t()})),v=()=>{Be(o.onpop,"function")&&o.onpop(o.id),a&&a()},X().$$.on_destroy.push(v);return e.$$set=e=>{"item"in e&&r(0,o=e.item)},e.$$.update=()=>{if(1&e.$$.dirty&&(Be(o.progress)||r(0,o.next=o.progress,o)),131&e.$$.dirty&&l!==o.next&&(r(7,l=o.next),u=i,d=!1,m.set(l).then(h)),1&e.$$.dirty&&o.component){const{props:e={},sendIdTo:t}=o.component;r(2,p={...e,...t&&{[t]:o.id}})}},[o,i,p,m,f,_,y,l,e=>{e instanceof KeyboardEvent&&["Enter"," "].includes(e.key)&&f()},()=>{o.pausable&&_()}]}class Ve extends Ie{constructor(e){super(),Se(this,e,Ue,Fe,o,{item:0})}}function Ge(e,t,n){const s=e.slice();return s[4]=t[n],s}function He(n,s){let r,o,l,u,c,d,m,f,h,_=e;return o=new Ve({props:{item:s[4]}}),{key:n,first:null,c(){r=S("li"),$e(o.$$.fragment),l=E(),L(r,"class",u=p(s[4].classes?.join(" "))+" svelte-1u812xz"),L(r,"style",c=Ke(s[4].theme)),this.first=r},m(e,t){w(e,r,t),we(o,r,null),x(r,l),h=!0},p(e,t){s=e;const n={};1&t&&(n.item=s[4]),o.$set(n),(!h||1&t&&u!==(u=p(s[4].classes?.join(" "))+" svelte-1u812xz"))&&L(r,"class",u),(!h||1&t&&c!==(c=Ke(s[4].theme)))&&L(r,"style",c)},r(){f=r.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:s}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=s,W(e,r)}}(r),_(),W(r,f)},a(){_(),_=function(n,s,r,i){if(!s)return e;const a=n.getBoundingClientRect();if(s.left===a.left&&s.right===a.right&&s.top===a.top&&s.bottom===a.bottom)return e;const{delay:o=0,duration:l=300,easing:u=t,start:c=g()+o,end:d=c+l,tick:p=e,css:m}=r(n,{from:s,to:a},i);let f,h=!0,_=!1;function y(){m&&H(n,f),h=!1}return b((e=>{if(!_&&e>=c&&(_=!0),_&&e>=d&&(p(1,0),y()),!h)return!1;if(_){const t=0+1*u((e-c)/l);p(t,1-t)}return!0})),m&&(f=G(n,0,1,l,o,u,m)),o||(_=!0),p(0,1),y}(r,f,Re,{duration:200})},i(n){h||(_e(o.$$.fragment,n),re((()=>{h&&(m&&m.end(1),d=function(n,s,r){const i={direction:"in"};let o,l,u=s(n,r,i),c=!1,d=0;function p(){o&&H(n,o)}function m(){const{delay:s=0,duration:r=300,easing:i=t,tick:a=e,css:m}=u||ve;m&&(o=G(n,0,1,r,s,i,m,d++)),a(0,1);const f=g()+s,h=f+r;l&&l.abort(),c=!0,re((()=>pe(n,!0,"start"))),l=b((e=>{if(c){if(e>=h)return a(1,0),pe(n,!0,"end"),p(),c=!1;if(e>=f){const t=i((e-f)/r);a(t,1-t)}}return c}))}let f=!1;return{start(){f||(f=!0,H(n),a(u)?(u=u(i),de().then(m)):m())},invalidate(){f=!1},end(){c&&(p(),c=!1)}}}(r,Le,s[4].intro),d.start())})),h=!0)},o(n){ye(o.$$.fragment,n),d&&d.invalidate(),m=function(n,s,r){const o={direction:"out"};let l,u=s(n,r,o),c=!0;const d=fe;function p(){const{delay:s=0,duration:r=300,easing:a=t,tick:o=e,css:p}=u||ve;p&&(l=G(n,1,0,r,s,a,p));const m=g()+s,f=m+r;re((()=>pe(n,!1,"start"))),b((e=>{if(c){if(e>=f)return o(0,1),pe(n,!1,"end"),--d.r||i(d.c),!1;if(e>=m){const t=a((e-m)/r);o(1-t,t)}}return c}))}return d.r+=1,a(u)?de().then((()=>{u=u(o),p()})):p(),{end(e){e&&u.tick&&u.tick(1,0),c&&(l&&H(n,l),c=!1)}}}(r,ze,{}),h=!1},d(e){e&&N(r),Ne(o),e&&m&&m.end()}}}function We(e){let t,n,s=[],r=new Map,a=e[0];const o=e=>e[4].id;for(let t=0;t<a.length;t+=1){let n=Ge(e,a,t),i=o(n);r.set(i,s[t]=He(i,n))}return{c(){t=S("ul");for(let e=0;e<s.length;e+=1)s[e].c();L(t,"class","_toastContainer svelte-1u812xz")},m(e,r){w(e,t,r);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);n=!0},p(e,[n]){if(1&n){a=e[0],he();for(let e=0;e<s.length;e+=1)s[e].r();s=function(e,t,n,s,r,a,o,l,u,c,d,p){let m=e.length,f=a.length,h=m;const g={};for(;h--;)g[e[h].key]=h;const _=[],y=new Map,v=new Map,b=[];for(h=f;h--;){const e=p(r,a,h),i=n(e);let l=o.get(i);l?s&&b.push((()=>l.p(e,t))):(l=c(i,e),l.c()),y.set(i,_[h]=l),i in g&&v.set(i,Math.abs(h-g[i]))}const x=new Set,k=new Set;function $(e){_e(e,1),e.m(l,d),o.set(e.key,e),d=e.first,f--}for(;m&&f;){const t=_[f-1],n=e[m-1],s=t.key,r=n.key;t===n?(d=t.first,m--,f--):y.has(r)?!o.has(s)||x.has(s)?$(t):k.has(r)?m--:v.get(s)>v.get(r)?(k.add(s),$(t)):(x.add(r),m--):(u(n,o),m--)}for(;m--;){const t=e[m];y.has(t.key)||u(t,o)}for(;f;)$(_[f-1]);return i(b),_}(s,n,o,1,e,a,r,t,xe,He,null,Ge);for(let e=0;e<s.length;e+=1)s[e].a();ge()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)_e(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)ye(s[e]);n=!1},d(e){e&&N(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Ke(e){return e?Object.keys(e).reduce(((t,n)=>`${t}${n}:${e[n]};`),""):void 0}function Xe(e,t,n){let s;c(e,Ze,(e=>n(3,s=e)));let{options:r={}}=t,{target:i="default"}=t,a=[];return e.$$set=e=>{"options"in e&&n(1,r=e.options),"target"in e&&n(2,i=e.target)},e.$$.update=()=>{6&e.$$.dirty&&Ze._init(i,r),12&e.$$.dirty&&n(0,a=s.filter((e=>e.target===i)))},[a,r,i,s]}class Je extends Ie{constructor(e){super(),Se(this,e,Xe,We,o,{options:1,target:2})}}let Ye=e=>{Ze.push(e,{theme:{"--toastBackground":"rgba(255, 0, 10, 0.9)"}})};class Qe{constructor(e,t=!0){this.id=e,this.loading=!0,e.match(/A\d{6|7}/)&&fetch("https://oeis.org/"+e+"/b"+e.slice(1)+".txt").then((e=>e.text())).then((e=>{this.plaintext=e,t&&(this.data=Qe.parsebfile(e)),this.loading=!1,this.subscribers.forEach((e=>e(this.data)))}))}static parsebfile(e){let t=e.split("\n");t=t.map((e=>e.trim())),t=t.filter((e=>!e.startsWith("#")));let n=t.map((e=>e.split(/\s+/))),s={};return n.forEach((e=>{s[e[0]]=e[1]})),{offset:parseInt(n[0][0]),data:s,source:e}}subscribe(e){return this.subscribers.push(e),e(this.data),()=>{this.subscribers=this.subscribers.filter((t=>t!==e))}}static getNumFromSeq(e){return Number(e.slice(1))}}class et{constructor(e){this.seqs=e,this.outp={},this.donesubs=[],this.xhr=null,this.canceled=!1,this.progress={currentSeq:e[0],currentPos:"1",totalPos:e.length.toString(),progressCurrent:"0%",bytesCurrentDownloaded:"0",bytesCurrentTotal:"unknown"},this.progressStore=Ae(this.progress),this.start()}cancel(){this.xhr&&this.xhr.abort(),this.canceled=!0}ondone(e){this.donesubs.push(e)}async start(){for(let e=0;e<this.seqs.length;e++){if(console.log("start download of bfile"),this.canceled)return;this.progress={currentSeq:this.seqs[e],currentPos:(e+1).toString(),totalPos:this.seqs.length.toString(),progressCurrent:"0%",bytesCurrentDownloaded:"0",bytesCurrentTotal:"unknown"},this.progressStore.set(this.progress);let t=await this.loadOne(this.seqs[e]);if("string"!=typeof t?Ye("there was an error downloading the bfile for: "+this.seqs[e]):this.outp[this.seqs[e]]=Qe.parsebfile(t),this.canceled)return;console.log("end download of bfile")}this.donesubs.forEach((e=>e(this.outp)))}loadOne(e){return et.cache[e]?Promise.resolve(et.cache[e]):new Promise((t=>{let n=new XMLHttpRequest;n.open("GET","https://oeis.org/"+e+"/b"+e.slice(1)+".txt"),n.onprogress=e=>{if(this.progress.bytesCurrentDownloaded=e.loaded.toString(),e.lengthComputable){this.progress.bytesCurrentTotal=e.total.toString();let t=Math.floor(e.loaded/e.total*1e3);this.progress.progressCurrent=t/10+"%"}else this.progress.progressCurrent="unknown%";this.progressStore.set(this.progress)},n.send(),n.onload=()=>{et.cache[e]=n.responseText,t(n.responseText)},n.onerror=()=>{Ye("there was a network error when downloading the bfile for: "+e+". Trying again"),this.loadOne(e).then(t)}}))}}et.cache={};var tt=String.raw`
\\ ---- BEGIN OF memoize.gp ----
\\ this version is modified.
\\ source: https://user42.tuxfamily.org/pari-memoize/index.html
\\ modified by removing comments for compactness
{
  my(comma = Vecsmall(",")[1]);
memoize_INTERNAL_any_comma(str) =
  my(v = Vecsmall(str));
  for(i=1,#v, if(v[i]==comma, return(1)));
  0;
}

{
my(close_paren = Vecsmall(")")[1]);
memoize_INTERNAL_func_is_zero_args(func) =
  if(type(func)!= "t_CLOSURE", error("not a function"));
  my(v = Vecsmall(Str(func)));
  #v >= 2 && v[2] == close_paren;
}

{
my (open_paren       = Vecsmall("(")[1],
    open_set         = Set(Vecsmall("([")),  /* open parens */
    close_set        = Set(Vecsmall(")]")),  /* close parens */
    open_bracket     = Vecsmall("[")[1],
    comma            = Vecsmall(",")[1],
    colon_equals_set = Set(Vecsmall(":=")),
    doublequote      = Vecsmall("\"")[1],
    backslash        = Vecsmall("\\")[1]);
memoize_INTERNAL_func_args(func) =
  if(type(func)!= "t_CLOSURE", error("not a function"));
  my(v = Vecsmall(Str(func)));

  if(! (#v >= 2 && v[1] == open_paren),
     error("cannot memoize an install()ed function (put a gp wrapper around it)"));

  my(ret         = List(),
     in_name     = 1,
     in_string   = 0,
     parens      = 0,
     is_variadic = 0);
  for(i=2, #v,
     my(ch = v[i]);
     if(in_string,
        if(ch==doublequote, in_string=0,  
           ch==backslash,   i++);         
        next);
     if(ch==doublequote,         in_string=1; next());
     if(in_name && ch==open_bracket, is_variadic=1);
     if(setsearch(open_set, ch), parens++;    next());
     if(setsearch(close_set, ch),
        parens--;
        if(parens<0, return([Strchr(Vecsmall(ret)),
                             if(i==2,"",Strchr(v[2..i-1])),
                             is_variadic]));
        next());
     if(parens>0, next());

     if(ch==comma,                       in_name=1,
        setsearch(colon_equals_set, ch), in_name=0);
     if(in_name, listput(ret,ch)));

  error("memoize_INTERNAL_func_args() oops, no closing paren");
}


{
if(type(mapisdefined)!="t_CLOSURE",

if(memoize_INTERNAL_args=='memoize_INTERNAL_args,
   memoize_INTERNAL_args   = List([]);     
   memoize_INTERNAL_values = List([]));    


memoize_INTERNAL_call0 = ((m)->
  if(memoize_INTERNAL_args[m],
     memoize_INTERNAL_values[m] = memoize_INTERNAL_args[m](); \\ call and record
     memoize_INTERNAL_args[m]=0);
  memoize_INTERNAL_values[m]
);

memoize_INTERNAL_make0 = ((m)-> ()->memoize_INTERNAL_call0(m));

memoize_INTERNAL_store = ((m, key,value)->
  my(pos = setsearch(memoize_INTERNAL_args[m],key,1));
  listinsert(memoize_INTERNAL_args[m], key, pos);
  listinsert(memoize_INTERNAL_values[m], value, pos);
  value
);

memoize_INTERNAL_make = ((func)->
  my(m         = #memoize_INTERNAL_args,
     args      = memoize_INTERNAL_func_args(func),
     argnames  = args[1],
     args_full = args[2],
     key_str   = if(memoize_INTERNAL_any_comma(argnames),
                    Str("[",argnames,"]"),
                    argnames),
     call_str  = Strprintf(if(args[3],
                              "call(memoize_INTERNAL_func,[%s])",
                              "memoize_INTERNAL_func(%s)"),
                           argnames));
  Strprintf("(%s)->my(memoize_INTERNAL_pos=setsearch(memoize_INTERNAL_args[%d],%s)); if(memoize_INTERNAL_pos, memoize_INTERNAL_values[%d][memoize_INTERNAL_pos], memoize_INTERNAL_store(%d,%s,%s))",
            args_full,
            m, key_str,
            m,
            m, key_str, call_str)
);

memoize = ((memoize_INTERNAL_func)->
  if(memoize_INTERNAL_func_is_zero_args(memoize_INTERNAL_func),
     listput(memoize_INTERNAL_args,   memoize_INTERNAL_func);
     listput(memoize_INTERNAL_values, 0);
     memoize_INTERNAL_make0(#memoize_INTERNAL_args),

     listput(memoize_INTERNAL_args,   List());
     listput(memoize_INTERNAL_values, List());
     eval(memoize_INTERNAL_make(memoize_INTERNAL_func)))
)

,
if(memoize_INTERNAL_maps=='memoize_INTERNAL_maps,
   memoize_INTERNAL_maps = List([]));
memoize_INTERNAL_call0 = ((m)->
  if(memoize_INTERNAL_maps[m][1],
     memoize_INTERNAL_maps[m][2] = memoize_INTERNAL_maps[m][1]();
     memoize_INTERNAL_maps[m][1]=0);
  memoize_INTERNAL_maps[m][2]
);

memoize_INTERNAL_make0 = ((m)-> ()->memoize_INTERNAL_call0(m));

memoize_INTERNAL_store = ((m, key,value)->
  mapput(memoize_INTERNAL_maps[m],key,value);
  value
);

memoize_INTERNAL_make = ((func)->
  my(m         = #memoize_INTERNAL_maps,
     args      = memoize_INTERNAL_func_args(func),
     argnames  = args[1],
     args_full = args[2],
     key_str   = if(memoize_INTERNAL_any_comma(argnames),
                    Str("[",argnames,"]"),
                    argnames),
     call_str  = Strprintf(if(args[3],
                              "call(memoize_INTERNAL_func,[%s])",
                              "memoize_INTERNAL_func(%s)"),
                           argnames));
  Strprintf("(%s)->my(memoize_INTERNAL_value);if(!mapisdefined(memoize_INTERNAL_maps[%d],%s,&memoize_INTERNAL_value), mapput(memoize_INTERNAL_maps[%d],%s,memoize_INTERNAL_value=%s)); memoize_INTERNAL_value",
            args_full,
            m, key_str,
            m, key_str, call_str)
);

memoize = ((memoize_INTERNAL_func)->
  if(memoize_INTERNAL_func_is_zero_args(memoize_INTERNAL_func),
     listput(memoize_INTERNAL_maps, [memoize_INTERNAL_func,0]);
     memoize_INTERNAL_make0(#memoize_INTERNAL_maps),

     listput(memoize_INTERNAL_maps, Map());
     eval(memoize_INTERNAL_make(memoize_INTERNAL_func)))

)

);
}

{
addhelp(memoize,
"func = memoize(func)
Return a memoized version of function func.

func should be a function (a closure).  It can take any number of arguments,
including arguments with default values.  The return is likewise a function
(a closure).

    foo(x) = some hairy code;
    foo = memoize(foo);

or in a single expression if preferred

    foo=memoize((x,y) -> some hairy code using x and y);

See comments at the start of memoize.gp for more details.");
}
\\ ---- END OF memoize.gp ----
`;const nt="\ndefault(parisize,    {PARISIZE});\ndefault(parisizemax, {PARISIZEMAX});\n\n{CODE}\n{LOOP}\n",st='\n{\n    for(i={OFFSET}, {MAXOFFSET}, s=Str(i, " ", {MAIN}(i)); if(length(s) > 1000, break); print(Str("result ", s)););\n    print("done"); print("done");\n}\n',rt='\nvecmap(v, f) = {\n    for(i=1, length(v), v[i] = f(v[i], i));\n    v;\n}\nv=[0]\nsize=0\nlinelength = 0\nsizes = {SIZES}\nsizeindex = 1\n{\n\n    while((linelength <= 999) && (sizeindex <= #sizes),\n        size = sizes[sizeindex];\n        sizeindex++;\n        print("listsize ", size);\n        v={MAIN}(size);\n        linelength = vecmax(vecmap(v, (x, i) -> length(Str(i-1+{OFFSET}, " ", x))));\n        print("listresult ", v)\n    );\n    print("done"); print("done");\n}\n',it='\nstartcheck = {STARTCHECK}\ni = startcheck\nsendupdateevery = 500 \\\\ in ms\nlastupdate = getwalltime()\n{\n    while (1, \n        if (getwalltime() - lastupdate > sendupdateevery,\n            print("checkupto ", i);\n            lastupdate = getwalltime();\n        );\n        if ({MAIN}(i),\n            print("checkresult ", i)\n        );\n        i++\n    );\n    print("done"); print("done");\n}\n',at="get_row_from_n(n) = floor((sqrtint(1 + 8*n) - 1)  / 2)",ot=e=>`\n${at}\nmain_old = {MAIN}\na(n) = {\n    my(row = get_row_from_n(n));\n    my(remainder = n - row*(row+1)/2);\n    my(a = row - remainder, b = remainder);\n    ${e?"":"my(t = b); b = a; a = t;"}\n    main_old(a + {XOFFSET}, b + {YOFFSET})\n}`,lt=`\n${at}\na(n) = {\n    my(row = get_row_from_n(n));\n    my(remainder = n - row*(row+1)/2);\n    {MAIN}(row + {XOFFSET}, remainder + {YOFFSET})\n}\n`,ut=tt,ct="\\\\ <memoize code> (press the view full code button below to see the generated code including libraries)",dt='\nOEISSequenceData = Map()\nloadSeq(seq) = if(!mapisdefined(OEISSequenceData, seq), mapput(OEISSequenceData, seq, Map())); n -> {\n    my(M = mapget(OEISSequenceData, seq));\n    if (mapisdefined(M, n), mapget(M, n),\n        print("loaddata ", seq, " ", n);\n        my(r = input());\n        my(offset = r[1]);\n        for(i = 0, #r - 2, mapput(M, offset + i, r[i + 2]));\n        mapput(OEISSequenceData, seq, M);\n        self()(n)\n    )\n}\n';function pt({amount:e,unit:t}){return`round(${e} * 1024 ^ ${{b:0,kb:1,mb:2,gb:3}[t]})`}function mt(e,t,n,s,r,i=!0){if(!n)return"";if(!["list","explicit","check","table explicit"].includes(n))throw new Error("unimplemented type:"+n);let a={list:rt,explicit:st,check:it,"table explicit":st}[n];if("table explicit"===n){e+="\n"+("triangle"===r.tableSettings.type?lt:ot(r.tableSettings.squareUpward)).replaceAll("{MAIN}",t).replaceAll("{XOFFSET}",r.tableSettings.xoffset.toString()).replaceAll("{YOFFSET}",r.tableSettings.yoffset.toString()),t="a"}r.importBfilesFor.length&&(e=dt+r.importBfilesFor.map((e=>`${e} = loadSeq(${Qe.getNumFromSeq(e)})\n`)).join()+e);let o=nt.replaceAll("{PARISIZE}",pt(r.langSettings.pari.parisize).toString()).replaceAll("{PARISIZEMAX}",pt(r.langSettings.pari.parisizemax).toString()).replaceAll("{LOOP}",a).replaceAll("{MAXOFFSET}",function(e){if("index"===e.limit.maxIndex.type)return e.limit.maxIndex.maxIndex;if("antidiagonals"===e.limit.maxIndex.type){let t=e.limit.maxIndex.maxAntidiaonal;return e.offset+t*(t+1)/2-1+e.offset}}(r).toString()).replaceAll("{MAIN}",t).replaceAll("{STARTCHECK}",r.checkSettings.checkStart.toString()).replaceAll("{CODE}",(r.langSettings.pari.includeMemoize?i?ct:ut:"")+e).replaceAll("{OFFSET}",s.toString());return"list"===n&&(o=o.replaceAll("{SIZES}",function(e,t){let n=[];if("custom"===e.type)n=e.customGuesses;else{let s=e.start;n=[s];do{s+=e.increment,n.push(s)}while(s<1e4-t+10)}return"["+n.join(", ")+"]"}(r.listSettings.lengthGuessAlgorithm,s))),o.trim()+"\n"}function ft(e){return(new TextEncoder).encode(e)}function ht(e){return(new TextDecoder).decode(e)}function gt(e,t){return new Promise((t=>{let n=function(e){let t="";for(let n=0;n<e;n++)t+=Math.floor(16*Math.random()).toString(16);return t}(8),s=_t(e,"echo",[n]);const r=new WebSocket(s);r.binaryType="arraybuffer";let i=setTimeout((()=>t({error:!0,message:"Server took too long to respond."})),3e3),a=null;r.onopen=()=>{clearTimeout(i),a=setTimeout((()=>{t({error:!0,message:"Server took too long to send a message."})}),1e3)},r.onmessage=e=>{if(null!==a&&clearTimeout(a),setTimeout((()=>t({error:!0,message:"Server responded with incorrect message."})),1e3),e.data instanceof ArrayBuffer){ht(new Uint8Array(e.data)).includes(n)&&(console.log("success"),t({error:!1,message:"Server is valid."}))}},r.onerror=e=>{t({error:!0,message:"There was an error connecting to the server."})}}))}function _t(e,t,n=[]){let s=new URL(e);return s.protocol="ws:",s.searchParams.set("command",t),n.forEach(((e,t)=>{s.searchParams.set("arg"+t,e)})),s}function yt(e,t,n,s,r){const i=new WebSocket(_t(r,"gp"));function a(e){i.send(ft("stdin "+e))}return i.binaryType="arraybuffer",i.onopen=()=>{console.log("oppened"),a(t),i.onmessage=e=>{let t=e.data;if(t instanceof ArrayBuffer){let e=ht(new Uint8Array(t));e.startsWith("err ")?console.error(e.slice(4)):e.startsWith("stdout ")?n(e.slice(7)):e.startsWith("stderr ")?s(e.slice(7)):console.log("Unknown message",e)}}},{stop:()=>{console.trace("kill from where"),i.send(ft("kill")),setTimeout((e=>{i.readyState===WebSocket.OPEN&&console.error("send kill but websocket still open")}),1e3)},sendStdin:a}}function vt(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function bt(e){let t,n,s,r,i,a,o=e[7]+"";function l(){return e[5](e[9])}return{c(){t=S("div"),n=S("button"),s=I(o),r=E(),L(n,"class","tabselector svelte-1un26oq"),P(n,"selected",e[9]===e[0]),L(t,"class","tab svelte-1un26oq")},m(e,o){w(e,t,o),x(t,n),x(n,s),x(t,r),i||(a=C(n,"click",z(l)),i=!0)},p(t,r){e=t,2&r&&o!==(o=e[7]+"")&&O(s,o),1&r&&P(n,"selected",e[9]===e[0])},d(e){e&&N(t),i=!1,a()}}}function xt(e){let t,n,s,r,i=e[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=bt(vt(e,i,t));const o=e[4].default,l=function(e,t,n,s){if(e){const r=d(e,t,n,s);return e[0](r)}}(o,e,e[3],null);return{c(){t=S("div");for(let e=0;e<a.length;e+=1)a[e].c();n=E(),s=S("div"),l&&l.c(),L(t,"class","tabs svelte-1un26oq"),L(s,"class","container svelte-1un26oq")},m(i,o){w(i,t,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);w(i,n,o),w(i,s,o),l&&l.m(s,null),e[6](s),r=!0},p(e,[n]){if(7&n){let s;for(i=e[1],s=0;s<i.length;s+=1){const r=vt(e,i,s);a[s]?a[s].p(r,n):(a[s]=bt(r),a[s].c(),a[s].m(t,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}l&&l.p&&(!r||8&n)&&function(e,t,n,s,r,i){if(r){const a=d(t,n,s,i);e.p(a,r)}}(l,o,e,e[3],r?function(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|r[s];return e}return t.dirty|r}return t.dirty}(o,e[3],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[3]),null)},i(e){r||(_e(l,e),r=!0)},o(e){ye(l,e),r=!1},d(r){r&&N(t),T(a,r),r&&N(n),r&&N(s),l&&l.d(r),e[6](null)}}}function kt(e,t,n){let{$$slots:s={},$$scope:r}=t,{tabNames:i}=t,{opened:a=0}=t;J((()=>{if(!o)throw"container is null. How???";if(i.length!==o.childElementCount)throw new Error("tabNames.length !== container.childElementCount");for(let e of null==o?void 0:o.children)e.style.display="none";n(2,o.children[a].style.display="",o)}));let o=null;return e.$$set=e=>{"tabNames"in e&&n(1,i=e.tabNames),"opened"in e&&n(0,a=e.opened),"$$scope"in e&&n(3,r=e.$$scope)},[a,i,o,r,s,e=>{if(!o)throw"container is null. How???";n(2,o.children[a].style.display="none",o),n(2,o.children[e].style.display="",o),n(0,a=e)},function(e){Q[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class $t extends Ie{constructor(e){super(),Se(this,e,kt,xt,o,{tabNames:1,opened:0})}}function wt(e){let t,n,s,r,i,a,o,l;return i=new $t({props:{tabNames:["general","stdout","stderr"],$$slots:{default:[Tt]},$$scope:{ctx:e}}}),{c(){t=S("h1"),t.textContent="Status",n=E(),s=S("button"),s.textContent="Stop",r=E(),$e(i.$$.fragment)},m(u,c){w(u,t,c),w(u,n,c),w(u,s,c),w(u,r,c),we(i,u,c),a=!0,o||(l=C(s,"click",z(e[2])),o=!0)},p(e,t){const n={};10&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){a||(_e(i.$$.fragment,e),a=!0)},o(e){ye(i.$$.fragment,e),a=!1},d(e){e&&N(t),e&&N(n),e&&N(s),e&&N(r),Ne(i,e),o=!1,l()}}}function Nt(e){let t;return{c(){t=S("p"),t.innerHTML="<strong>Done</strong>"},m(e,n){w(e,t,n)},d(e){e&&N(t)}}}function Tt(e){let t,n,s,r,i,a,o,l,u,c,d,p=e[1].statusInfoHTML+"",m=e[1].stdout+"",f=e[1].stderr+"",h=e[1].done&&Nt();return{c(){t=S("div"),n=S("pre"),s=E(),h&&h.c(),r=E(),i=S("div"),a=S("pre"),o=I(m),l=E(),u=S("div"),c=S("pre"),d=I(f)},m(e,m){w(e,t,m),x(t,n),n.innerHTML=p,x(t,s),h&&h.m(t,null),w(e,r,m),w(e,i,m),x(i,a),x(a,o),w(e,l,m),w(e,u,m),x(u,c),x(c,d)},p(e,s){2&s&&p!==(p=e[1].statusInfoHTML+"")&&(n.innerHTML=p),e[1].done?h||(h=Nt(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),2&s&&m!==(m=e[1].stdout+"")&&O(o,m),2&s&&f!==(f=e[1].stderr+"")&&O(d,f)},d(e){e&&N(t),h&&h.d(),e&&N(r),e&&N(i),e&&N(l),e&&N(u)}}}function St(e){let t,n,s,r,i,a,o=e[1].message+"";return{c(){t=S("h1"),t.textContent="Status",n=E(),s=S("p"),r=S("strong"),r.textContent="error",i=I(": "),a=I(o)},m(e,o){w(e,t,o),w(e,n,o),w(e,s,o),x(s,r),x(s,i),x(s,a)},p(e,t){2&t&&o!==(o=e[1].message+"")&&O(a,o)},d(e){e&&N(t),e&&N(n),e&&N(s)}}}function It(e){let t,n,s,r=e[1].running&&wt(e),i=e[1].error&&St(e);return{c(){r&&r.c(),t=E(),i&&i.c(),n=A()},m(e,a){r&&r.m(e,a),w(e,t,a),i&&i.m(e,a),w(e,n,a),s=!0},p(e,[s]){e[1].running?r?(r.p(e,s),2&s&&_e(r,1)):(r=wt(e),r.c(),_e(r,1),r.m(t.parentNode,t)):r&&(he(),ye(r,1,1,(()=>{r=null})),ge()),e[1].error?i?i.p(e,s):(i=St(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(e){s||(_e(r),s=!0)},o(e){ye(r),s=!1},d(e){r&&r.d(e),e&&N(t),i&&i.d(e),e&&N(n)}}}function Et(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(1,r=e))),o);t.$$.on_destroy.push((()=>i()));let{status:o}=n;a();return t.$$set=e=>{"status"in e&&a(s(0,o=e.status))},[o,r,()=>r.running&&r.cancel()]}class At extends Ie{constructor(e){super(),Se(this,e,Et,It,o,{status:0})}}class Ct{constructor(e){this.onLine=e,this.buffer="",this.stopped=!1}write(e){if(this.stopped)return;this.buffer+=e;let t=this.buffer.split("\n");this.buffer=t.pop();for(let e of t)this.onLine(e)}stop(){this.stopped=!0}}function zt(e){let t=(new TextEncoder).encode(e);return crypto.subtle.digest("SHA-256",t).then((e=>{let t=[],n=new DataView(e);for(let e=0;e<n.byteLength;e+=4){let s="00000000",r=(s+n.getUint32(e).toString(16)).slice(-s.length);t.push(r)}return t.join("")}))}function Lt(e,t,n,s,r){if(!e.lang)return void s.set({running:!1,error:!0,message:"no language selected"});let i={},a=[],o=e.checkSettings.checkStart,l=0,c=0,d="",p=!1,m=0,f=null,h=null;let g,_,y,v=new Ct((function(t){if(!v.stopped)if(t.startsWith("done")&&k(),t.startsWith("result ")){let n=t.split(" ");if(3!==n.length)return s.set({running:!1,error:!0,message:"invalid result command: too many or too little spaces: "+t}),void g();let[r,a,o]=n;i[parseInt(a)]=o,l=Math.max(l,a.length+o.length+1),c++,function(){for(;i[e.offset+m];)m++}(),d="results calculated: "+c+"<br>max result length: "+l+"<br>current result length: "+(a.length+o.length+1)+"<br>sequential results calculated: "+m}else if(t.startsWith("listresult ")){let n=t.slice("listresult ".length),r=n.slice(1,n.length-1).split(", ");for(let t=0;t<r.length;t++){if(console.log("result[i + data.offset] && result[i + data.offset] !== listSplit[i]",i[t+e.offset]&&i[t+e.offset]!==r[t]),i[t+e.offset]&&i[t+e.offset]!==r[t])return s.set({running:!1,error:!0,message:"listresult doesn't match previous result: "+i[t+e.offset]+" !== "+r[t]+" at index "+(t+e.offset)}),s.set({running:!1,error:!0,message:`listresult doesn't match previous result: ${i[t+e.offset]} !== ${r[t]} at index ${t+e.offset}. Last size passed to the main function: ${h}, current size passed to the main function: ${f}}`}),void(p=!0);i[t+e.offset]=r[t]}c=r.length,l=function(e){function t(e,t){return e.length+t.length+1}let n=0;for(let s in e)n=Math.max(n,t(s,e[s]));return n}(i),d="results calculated: "+c+"<br>max result length: "+l}else if(t.startsWith("listsize ")){let e=t.slice("listsize ".length);h=f,f=e}else if(t.startsWith("checkresult ")){let n=t.slice("checkresult ".length);a.push(n),isFinite(Number(n))&&(o=Math.max(o,Number(n))),a.length-2+e.offset>=e.maxResult&&k(),d="check results calculated: "+a.length+"<br>checked up to: "+o}else if(t.startsWith("checkupto ")){let e=t.slice("checkresult ".length);isFinite(Number(e))&&(o=Math.max(o,Number(e))),d="check results calculated: "+a.length+"<br>checked up to: "+o}else if(t.startsWith("loaddata ")){let n=t.slice("loaddata ".length),[s,r]=n.split(" "),i=parseInt(r),a=y["A"+s.padStart(6,"0")],o=Math.floor(i/e.bfileIdealTransferBlocksize)*e.bfileIdealTransferBlocksize,l=a.offset+o,u=`[${l}`;for(let t=0;t<e.bfileIdealTransferBlocksize&&a.data[l+t];t++)u+=","+a.data[l+t];u+="]\n",_(u)}})),b="",x="";function k(){if("check"===e.type){a.map(BigInt).sort();for(let t=0;t<a.length;t++)i[t+e.offset]=a[t]}p||(g(),console.log("DOOONe"),$(!0),v.stop())}function $(e=!1){v.stopped||p||s.set({running:!0,error:!1,stderr:x,stdout:b,cancel:k,statusInfoHTML:d,result:i,done:e})}function w(e){b+=e,v.write(e),$()}function N(e){x+=e,$()}!function(){let a=!1;if(!e.importBfilesFor.length){let t="Starting code...";s.set({running:!0,error:!1,stderr:"",stdout:"",cancel:k,statusInfoHTML:t,result:i,done:!1}),console.log("????????");let a=yt(e.lang,n,w,N,r);return g=a.stop,void(_=a.sendStdin)}let o=new et(e.importBfilesFor),l=()=>{o.cancel(),s.set({running:!0,error:!1,stderr:"",stdout:"",cancel:l,statusInfoHTML:d,result:i,done:!0})};o.progressStore.subscribe((e=>{if(a)return;let t=`\n            downloading bfile of ${e.currentSeq} ${e.currentPos}/${e.totalPos}...<br>\n            progress: ${e.bytesCurrentDownloaded} bytes / ${e.bytesCurrentTotal} (${e.progressCurrent})\n            `;s.set({running:!0,error:!1,stderr:"",stdout:"",cancel:l,statusInfoHTML:t,result:i,done:!1})})),o.ondone((o=>{y=o;for(let e of Object.keys(o)){zt(o[e].source).then((n=>{let s=u(t);s.bfileHashes[e]=n,t.set(s)}))}a=!0;s.set({running:!0,error:!1,stderr:"",stdout:"",cancel:k,statusInfoHTML:"Starting code...",result:i,done:!1}),console.log("set HTML");let l=yt(e.lang,n,w,N,r);g=l.stop,_=l.sendStdin}))}()}function Rt(e){return e.replaceAll(/(\n|^)\# /g,"")}function Ot(e){let t,n,s,r,a,o,l,u,c,d,p,m,f,h,g,_,y,v,b,k,$,T,j,M,D,P,q,F,B,U,V,G,H,W,K,X,J,Y,Q,ee=e[8]&&Zt(),te=!e[3]&&jt(e),ne=!e[4]&&Mt(e);return{c(){t=S("h1"),t.textContent="Output",n=E(),s=S("p"),r=S("label"),a=S("input"),o=I("\n            Truncate?"),l=E(),u=S("br"),c=E(),d=S("label"),p=I("Truncate output to: "),m=S("input"),g=I(" (max: "),_=I(e[7]),y=I(")"),v=E(),b=S("p"),k=S("label"),$=S("input"),T=I("  Include header with data about oeis toolbox?"),j=E(),M=S("button"),M.textContent="(re-)Generate bfile",D=S("br"),P=E(),ee&&ee.c(),q=E(),F=S("textarea"),U=S("br"),V=E(),G=S("button"),H=I("Open in new tab"),K=E(),te&&te.c(),X=E(),ne&&ne.c(),J=A(),L(a,"type","checkbox"),L(a,"id","toolbox--should-truncate"),L(r,"for","toolbox--should-truncate"),m.disabled=f=!e[5].shouldTruncate,L(m,"type","number"),L(m,"id","toolbox--truncate"),L(m,"min",h=e[5].offset),L(m,"max",e[7]),L(d,"for","toolbox--truncate"),L($,"type","checkbox"),L($,"id","toolbox--include-header"),L(k,"for","toolbox--include-header"),F.disabled=B=!e[3],L(F,"class","svelte-yxyus9"),G.disabled=W=!e[10]},m(i,f){w(i,t,f),w(i,n,f),w(i,s,f),x(s,r),x(r,a),a.checked=e[5].shouldTruncate,x(r,o),x(s,l),x(s,u),x(s,c),x(s,d),x(d,p),x(d,m),Z(m,e[5].truncate),x(d,g),x(d,_),x(d,y),w(i,v,f),w(i,b,f),x(b,k),x(k,$),$.checked=e[5].includeHeader,x(k,T),w(i,j,f),w(i,M,f),w(i,D,f),w(i,P,f),ee&&ee.m(i,f),w(i,q,f),w(i,F,f),Z(F,e[2]),w(i,U,f),w(i,V,f),w(i,G,f),x(G,H),w(i,K,f),te&&te.m(i,f),w(i,X,f),ne&&ne.m(i,f),w(i,J,f),Y||(Q=[C(a,"change",e[15]),C(m,"input",e[16]),C($,"change",e[17]),C(M,"click",z(e[18])),C(F,"input",e[19]),C(F,"input",e[20]),C(G,"click",z(e[14]))],Y=!0)},p(e,t){32&t&&(a.checked=e[5].shouldTruncate),32&t&&f!==(f=!e[5].shouldTruncate)&&(m.disabled=f),32&t&&h!==(h=e[5].offset)&&L(m,"min",h),128&t&&L(m,"max",e[7]),32&t&&R(m.value)!==e[5].truncate&&Z(m,e[5].truncate),128&t&&O(_,e[7]),32&t&&($.checked=e[5].includeHeader),e[8]?ee||(ee=Zt(),ee.c(),ee.m(q.parentNode,q)):ee&&(ee.d(1),ee=null),8&t&&B!==(B=!e[3])&&(F.disabled=B),4&t&&Z(F,e[2]),1024&t&&W!==(W=!e[10])&&(G.disabled=W),e[3]?te&&(te.d(1),te=null):te?te.p(e,t):(te=jt(e),te.c(),te.m(X.parentNode,X)),e[4]?ne&&(ne.d(1),ne=null):ne?ne.p(e,t):(ne=Mt(e),ne.c(),ne.m(J.parentNode,J))},d(e){e&&N(t),e&&N(n),e&&N(s),e&&N(v),e&&N(b),e&&N(j),e&&N(M),e&&N(D),e&&N(P),ee&&ee.d(e),e&&N(q),e&&N(F),e&&N(U),e&&N(V),e&&N(G),e&&N(K),te&&te.d(e),e&&N(X),ne&&ne.d(e),e&&N(J),Y=!1,i(Q)}}}function Zt(e){let t;return{c(){t=S("p"),t.textContent="The settings for creating the bfile have changed. You need to re-generate the bfile (or run the script again to calculate the new values) to see this reflected.",j(t,"color","red")},m(e,n){w(e,t,n)},d(e){e&&N(t)}}}function jt(t){let n,s,r;return{c(){n=S("button"),n.textContent="Edit bfile directly"},m(e,i){w(e,n,i),s||(r=C(n,"click",z(t[21])),s=!0)},p:e,d(e){e&&N(n),s=!1,r()}}}function Mt(e){let t,n,s,r,i,a=e[9]&&Dt();return{c(){t=S("p"),a&&a.c(),n=E(),s=S("button"),s.textContent="Save"},m(o,l){w(o,t,l),a&&a.m(t,null),x(t,n),x(t,s),r||(i=C(s,"click",z(e[13])),r=!0)},p(e,s){e[9]?a||(a=Dt(),a.c(),a.m(t,n)):a&&(a.d(1),a=null)},d(e){e&&N(t),a&&a.d(),r=!1,i()}}}function Dt(e){let t,n;return{c(){t=S("span"),t.textContent="The current version of the bfile is not saved",n=S("br"),j(t,"color","red")},m(e,s){w(e,t,s),w(e,n,s)},d(e){e&&N(t),e&&N(n)}}}function Pt(t){let n,s=t[6].done&&Ot(t);return{c(){s&&s.c(),n=A()},m(e,t){s&&s.m(e,t),w(e,n,t)},p(e,[t]){e[6].done?s?s.p(e,t):(s=Ot(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&N(n)}}}function qt(t,n,s){let r,i,a,o=e,u=()=>(o(),o=l(f,(e=>s(5,i=e))),f),c=e,d=()=>(c(),c=l(p,(e=>s(6,a=e))),p);t.$$.on_destroy.push((()=>o())),t.$$.on_destroy.push((()=>c()));let{status:p}=n;d();let{progData:f}=n;u();let h=0;let g=!1,_="";function y(e=!1){return(e?"# Edited after generation\n":"")+"# Generated with bfile toolbox (https://toolbox.winstondegreef.com) with the following settings (includes version):\n# "+function(e,t){let n="";for(;e.length>0;)n+=e.slice(0,t)+"\n# ",e=e.slice(t);return n.slice(0,-3)}(JSON.stringify(i),900)+"\n"}let v=!1;function b(){m(f,i.timestamp=Date.now(),i),setTimeout((e=>s(8,v=!1)),0),s(9,$=!0);let e=a.result,t=i.shouldTruncate?i.truncate:h,n=i.offset;console.log(i.includeHeader),s(2,_=i.includeHeader?y():"");let r=n;for(;e[r]&&r<=t;){let t=r+" "+e[r]+"\n";s(2,_+=t),r++}return s(3,x=!1),_}f.subscribe((e=>s(8,v=!0)));let x=!1;function k(e=!1){s(9,$=!0),s(3,x=!e),s(2,_=_.replace(/^(\#.*\n?)*/,y(!e)))}let $=!0,w=null;function N(e){console.log("saved"),s(9,$=!1);let t=new Blob([_]),n="b"+i.sequenceId.slice(1)+".txt";s(10,w=new File([t],n,{type:"text/plain"}));let r=document.querySelector("[name=upload_file0]"),a=new DataTransfer;a.items.add(w),r.files=a.files}document.getElementById("edit_Data").innerText.split(", "),new Qe(i.sequenceId);return t.$$set=e=>{"status"in e&&d(s(0,p=e.status)),"progData"in e&&u(s(1,f=e.progData))},t.$$.update=()=>{var e;96&t.$$.dirty&&function(e,t){if(!e.done)return;let n=t.offset,r=e.result;for(;r[n]&&n.toString().length+r[n].length+1<=1e3;)n++;n--,n!==h&&s(7,h=n)}(a,i),64&t.$$.dirty&&(e=a.done,!g&&e&&b(),g=e),8&t.$$.dirty&&s(4,r=!x),20&t.$$.dirty&&r&&N()},[p,f,_,x,r,i,a,h,v,$,w,b,k,N,function(){console.log(w);let e=URL.createObjectURL(w);open(e,"_blank"),setTimeout((t=>URL.revokeObjectURL(e)),1e4)},function(){i.shouldTruncate=this.checked,f.set(i)},function(){i.truncate=R(this.value),f.set(i)},function(){i.includeHeader=this.checked,f.set(i)},()=>b(),function(){_=this.value,s(2,_)},()=>s(9,$=!0),()=>k()]}class Ft extends Ie{constructor(e){super(),Se(this,e,qt,Pt,o,{status:0,progData:1})}}function Bt(e,t,n){const s=e.slice();return s[11]=t[n],s}function Ut(e){let t,n,s,r,i,a,o,l,u,c,d,p,m,f=e[2].listSettings.lengthGuessAlgorithm.customGuesses.join(", ")+"",h=e[3].length&&Gt(e);return{c(){t=S("p"),n=S("label"),s=I("Custom guesses: (one per line, blank and invalid lines are ignored)"),r=S("br"),i=E(),a=S("textarea"),o=E(),h&&h.c(),l=E(),u=S("p"),c=I("parsed guesses: "),d=I(f),L(a,"class","svelte-1mgq5t6"),L(n,"for","toolbox--list-custom-guess")},m(f,g){w(f,t,g),x(t,n),x(n,s),x(n,r),x(n,i),x(n,a),Z(a,e[1]),w(f,o,g),h&&h.m(f,g),w(f,l,g),w(f,u,g),x(u,c),x(u,d),p||(m=C(a,"input",e[8]),p=!0)},p(e,t){2&t&&Z(a,e[1]),e[3].length?h?h.p(e,t):(h=Gt(e),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null),4&t&&f!==(f=e[2].listSettings.lengthGuessAlgorithm.customGuesses.join(", ")+"")&&O(d,f)},d(e){e&&N(t),e&&N(o),h&&h.d(e),e&&N(l),e&&N(u),p=!1,m()}}}function Vt(e){let t,n,s,r,a,o,l,u,c,d,p,m;return{c(){t=S("p"),n=S("label"),s=I("Start guess: "),r=S("input"),a=E(),o=S("br"),l=E(),u=S("label"),c=I("Increment: "),d=S("input"),L(r,"id","toolbox--list-linear-start"),L(r,"type","number"),L(n,"for","toolbox--list-linear-start"),L(d,"id","toolbox--list-linear-increment"),L(d,"type","number"),L(u,"for","toolbox--list-linear-increment")},m(i,f){w(i,t,f),x(t,n),x(n,s),x(n,r),Z(r,e[2].listSettings.lengthGuessAlgorithm.start),x(n,a),x(t,o),x(t,l),x(t,u),x(u,c),x(u,d),Z(d,e[2].listSettings.lengthGuessAlgorithm.increment),p||(m=[C(r,"input",e[6]),C(d,"input",e[7])],p=!0)},p(e,t){4&t&&R(r.value)!==e[2].listSettings.lengthGuessAlgorithm.start&&Z(r,e[2].listSettings.lengthGuessAlgorithm.start),4&t&&R(d.value)!==e[2].listSettings.lengthGuessAlgorithm.increment&&Z(d,e[2].listSettings.lengthGuessAlgorithm.increment)},d(e){e&&N(t),p=!1,i(m)}}}function Gt(e){let t,n,s,r,i=e[3],a=[];for(let t=0;t<i.length;t+=1)a[t]=Ht(Bt(e,i,t));return{c(){t=S("p"),n=S("strong"),n.textContent="There are some proplems with these guesses:",s=S("br"),r=E();for(let e=0;e<a.length;e+=1)a[e].c()},m(e,i){w(e,t,i),x(t,n),x(t,s),x(t,r);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null)},p(e,n){if(8&n){let s;for(i=e[3],s=0;s<i.length;s+=1){const r=Bt(e,i,s);a[s]?a[s].p(r,n):(a[s]=Ht(r),a[s].c(),a[s].m(t,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}},d(e){e&&N(t),T(a,e)}}}function Ht(e){let t,n,s=e[11]+"";return{c(){t=I(s),n=S("br")},m(e,s){w(e,t,s),w(e,n,s)},p(e,n){8&n&&s!==(s=e[11]+"")&&O(t,s)},d(e){e&&N(t),e&&N(n)}}}function Wt(t){let n,s,r,i,a,o,l,u,c,d,p,m;function f(e,t){return"linear"===e[2].listSettings.lengthGuessAlgorithm.type?Vt:"custom"===e[2].listSettings.lengthGuessAlgorithm.type?Ut:void 0}let h=f(t),g=h&&h(t);return{c(){n=S("h1"),n.textContent="List settings",s=E(),r=S("p"),i=S("label"),a=I("Length Guess Algorithm: \n        "),o=S("select"),l=S("option"),l.textContent="Linear (default)",u=S("option"),u.textContent="Custom",c=E(),g&&g.c(),d=A(),l.__value="linear",l.value=l.__value,u.__value="custom",u.value=u.__value,L(o,"id","toolbox--list-guess-algorithm"),void 0===t[2].listSettings.lengthGuessAlgorithm.type&&re((()=>t[5].call(o))),L(i,"for","toolbox--list-guess-algorithm")},m(e,f){w(e,n,f),w(e,s,f),w(e,r,f),x(r,i),x(i,a),x(i,o),x(o,l),x(o,u),M(o,t[2].listSettings.lengthGuessAlgorithm.type,!0),w(e,c,f),g&&g.m(e,f),w(e,d,f),p||(m=C(o,"change",t[5]),p=!0)},p(e,[t]){4&t&&M(o,e[2].listSettings.lengthGuessAlgorithm.type),h===(h=f(e))&&g?g.p(e,t):(g&&g.d(1),g=h&&h(e),g&&(g.c(),g.m(d.parentNode,d)))},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),e&&N(c),g&&g.d(e),e&&N(d),p=!1,m()}}}function Kt(e,t){let n=[];for(let s=0;s<e.length;s++)t(e[s],e[s-1])&&n.push(s);return n}function Xt(e){let t=-1/0;for(let n of e)n>t&&(t=n);return t}function Jt(t,n,s){let r,i,a=e,o=()=>(a(),a=l(u,(e=>s(2,r=e))),u);t.$$.on_destroy.push((()=>a()));let{progData:u}=n;o();let d="",p=Ae([]);return c(t,p,(e=>s(3,i=e))),t.$$set=e=>{"progData"in e&&o(s(0,u=e.progData))},t.$$.update=()=>{2&t.$$.dirty&&function(e){let t=e.split("\n"),n=[],s=[];for(let e=0;e<t.length;e++){let r=t[e].trim();if(""===r)continue;let i=Number(r);Number.isNaN(i)?s.push(`line ${e}: could not parse number (${r})`):(Number.isFinite(i)||s.push(`line ${e}: number (absolute value) is too large to use (${r})`),n.push(i))}let i=Kt(n,(e=>!Number.isInteger(e))),a=Kt(n,(e=>!Number.isSafeInteger(e)));a=function(e,t){let n=[];for(let s of e)t.includes(s)||n.push(s);return n}(a,i);let o=Kt(n,((e,t)=>"number"==typeof t&&t>e)),l=Kt(n,((e,t)=>e===t));o.length&&s.push(`A guess is immediately followed by a smaller one at the following valid guess indexes (this makes no sense and is a waste of computing): ${o.join(", ")}.`),l.length&&s.push(`A guess is followed by a duplicate at the following valid guess indexes (this makes no sense and is a waste of computing): ${l.join(", ")}`),i.length&&s.push(`The following guesses (valid guess indexes listed) are not integers, this could lead to a bunch of errors because these guesses are expected to be integers: ${i.join(", ")}`),a.length&&s.push(`The following guesses (valid guess indexes listed) are too large to be stored effectively in a 64bit float, causing roundoff errors: ${a.join(", ")}`),Xt(n)<10001-r.offset&&s.push(`the largest guess is less than the maximum possible amount of terms to generate. Largest guess: ${Xt(n)}, largest guess needed to insure calculation up to and including index 10000: ${10001-r.offset} `),0===n.length&&s.push("no valid guesses"),p.set(s),m(u,r.listSettings.lengthGuessAlgorithm.customGuesses=n,r)}(d)},[u,d,r,i,p,function(){r.listSettings.lengthGuessAlgorithm.type=D(this),u.set(r)},function(){r.listSettings.lengthGuessAlgorithm.start=R(this.value),u.set(r)},function(){r.listSettings.lengthGuessAlgorithm.increment=R(this.value),u.set(r)},function(){d=this.value,s(1,d)}]}class Yt extends Ie{constructor(e){super(),Se(this,e,Jt,Wt,o,{progData:0})}}function Qt(t){let n,s,r,a,o,l,u,c,d;return{c(){n=S("input"),s=E(),r=S("select"),a=S("option"),a.textContent="B",o=S("option"),o.textContent="KB",l=S("option"),l.textContent="MB",u=S("option"),u.textContent="GB",L(n,"min","0"),L(n,"type","number"),L(n,"id",t[2]),L(n,"class","svelte-18xsg3a"),a.__value="b",a.value=a.__value,o.__value="kb",o.value=o.__value,l.__value="mb",l.value=l.__value,u.__value="gb",u.value=u.__value,void 0===t[1]&&re((()=>t[4].call(r)))},m(e,i){w(e,n,i),Z(n,t[0]),w(e,s,i),w(e,r,i),x(r,a),x(r,o),x(r,l),x(r,u),M(r,t[1],!0),c||(d=[C(n,"input",t[3]),C(r,"change",t[4])],c=!0)},p(e,[t]){4&t&&L(n,"id",e[2]),1&t&&R(n.value)!==e[0]&&Z(n,e[0]),2&t&&M(r,e[1])},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),c=!1,i(d)}}}let en=0;function tn(e,t,n){let s=en++,{id:r=`toolbox--data-size-input-${s}`}=t,{amount:i=0}=t,{unit:a="b"}=t;return e.$$set=e=>{"id"in e&&n(2,r=e.id),"amount"in e&&n(0,i=e.amount),"unit"in e&&n(1,a=e.unit)},[i,a,r,function(){i=R(this.value),n(0,i)},function(){a=D(this),n(1,a)}]}class nn extends Ie{constructor(e){super(),Se(this,e,tn,Qt,o,{id:2,amount:0,unit:1})}}function sn(e){let t,n,s,r,i,a,o,l,u,c,d,p,m,f,h,g,_,y,v,b,k,$,T,A;function z(t){e[5](t)}function R(t){e[6](t)}let O={id:e[2]};function Z(t){e[7](t)}function j(t){e[8](t)}void 0!==e[1].langSettings.pari.parisizemax.amount&&(O.amount=e[1].langSettings.pari.parisizemax.amount),void 0!==e[1].langSettings.pari.parisizemax.unit&&(O.unit=e[1].langSettings.pari.parisizemax.unit),p=new nn({props:O}),Q.push((()=>ke(p,"amount",z))),Q.push((()=>ke(p,"unit",R)));let M={id:e[3]};return void 0!==e[1].langSettings.pari.parisize.amount&&(M.amount=e[1].langSettings.pari.parisize.amount),void 0!==e[1].langSettings.pari.parisize.unit&&(M.unit=e[1].langSettings.pari.parisize.unit),v=new nn({props:M}),Q.push((()=>ke(v,"amount",Z))),Q.push((()=>ke(v,"unit",j))),{c(){t=S("h1"),t.textContent="Pari",n=E(),s=S("p"),r=S("label"),i=S("input"),a=I(" include "),o=S("a"),o.textContent="memoize.gp",l=E(),u=S("p"),c=S("label"),d=I("pari size max:\n        "),$e(p.$$.fragment),h=E(),g=S("p"),_=S("label"),y=I("pari size (you shouldn't change this, change pari size max instead):\n        "),$e(v.$$.fragment),L(i,"type","checkbox"),L(i,"id","toolbox--include-memoize"),L(o,"href","https://user42.tuxfamily.org/pari-memoize/index.html"),L(o,"target","_blank"),L(r,"for","toolbox--include-memoize"),L(c,"for",e[2]),L(_,"for",e[3])},m(m,f){w(m,t,f),w(m,n,f),w(m,s,f),x(s,r),x(r,i),i.checked=e[1].langSettings.pari.includeMemoize,x(r,a),x(r,o),w(m,l,f),w(m,u,f),x(u,c),x(c,d),we(p,c,null),w(m,h,f),w(m,g,f),x(g,_),x(_,y),we(v,_,null),$=!0,T||(A=C(i,"change",e[4]),T=!0)},p(e,[t]){2&t&&(i.checked=e[1].langSettings.pari.includeMemoize);const n={};!m&&2&t&&(m=!0,n.amount=e[1].langSettings.pari.parisizemax.amount,ie((()=>m=!1))),!f&&2&t&&(f=!0,n.unit=e[1].langSettings.pari.parisizemax.unit,ie((()=>f=!1))),p.$set(n);const s={};!b&&2&t&&(b=!0,s.amount=e[1].langSettings.pari.parisize.amount,ie((()=>b=!1))),!k&&2&t&&(k=!0,s.unit=e[1].langSettings.pari.parisize.unit,ie((()=>k=!1))),v.$set(s)},i(e){$||(_e(p.$$.fragment,e),_e(v.$$.fragment,e),$=!0)},o(e){ye(p.$$.fragment,e),ye(v.$$.fragment,e),$=!1},d(e){e&&N(t),e&&N(n),e&&N(s),e&&N(l),e&&N(u),Ne(p),e&&N(h),e&&N(g),Ne(v),T=!1,A()}}}function rn(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(1,r=e))),o);t.$$.on_destroy.push((()=>i()));let{progData:o}=n;return a(),t.$$set=e=>{"progData"in e&&a(s(0,o=e.progData))},[o,r,undefined,undefined,function(){r.langSettings.pari.includeMemoize=this.checked,o.set(r)},function(e){t.$$.not_equal(r.langSettings.pari.parisizemax.amount,e)&&(r.langSettings.pari.parisizemax.amount=e,o.set(r))},function(e){t.$$.not_equal(r.langSettings.pari.parisizemax.unit,e)&&(r.langSettings.pari.parisizemax.unit=e,o.set(r))},function(e){t.$$.not_equal(r.langSettings.pari.parisize.amount,e)&&(r.langSettings.pari.parisize.amount=e,o.set(r))},function(e){t.$$.not_equal(r.langSettings.pari.parisize.unit,e)&&(r.langSettings.pari.parisize.unit=e,o.set(r))}]}class an extends Ie{constructor(e){super(),Se(this,e,rn,sn,o,{progData:0})}}function on(e){let t,n,s,r,i,a;return{c(){t=S("p"),n=S("label"),s=S("input"),r=I("Upward antidiagonal?"),L(s,"type","checkbox"),L(s,"id","toolbox-table-upward"),L(n,"for","toolbox-table-upward")},m(o,l){w(o,t,l),x(t,n),x(n,s),s.checked=e[1].tableSettings.squareUpward,x(n,r),i||(a=C(s,"change",e[5]),i=!0)},p(e,t){2&t&&(s.checked=e[1].tableSettings.squareUpward)},d(e){e&&N(t),i=!1,a()}}}function ln(t){let n,s,r,a,o,l,u,c,d,p,m,f,h,g,_,y,v,b,k,$,T,A,z,O,j,M,D,P,q,F,B,U,V,G="square"===t[1].tableSettings.type&&on(t);return B=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(t[3][0]),{c(){n=S("h1"),n.textContent="Table/Triangle Explicit Settings",s=E(),r=S("p"),a=I("Is it a...?"),o=S("br"),l=E(),u=S("label"),c=S("input"),d=I(" Table"),p=S("br"),m=E(),f=S("label"),h=S("input"),g=I(" Triangle"),_=S("br"),y=E(),G&&G.c(),v=E(),b=S("label"),k=I("start x (first argument): "),$=S("input"),T=S("br"),A=E(),z=S("label"),O=I("start y (second argument): "),j=S("input"),M=S("br"),D=E(),P=S("p"),q=E(),F=S("p"),L(c,"type","radio"),L(c,"id","toolbox--table-table"),c.__value="square",c.value=c.__value,L(c,"name","toolbox--table-type"),L(u,"for","toolbox--table-table"),L(h,"type","radio"),L(h,"id","toolbox--table-triangle"),h.__value="triangle",h.value=h.__value,L(h,"name","toolbox--table-type"),L(f,"for","toolbox--table-triangle"),L($,"type","number"),L($,"id","toolbox--table-explicit-startx"),L(b,"for","toolbox--table-explicit-startx"),L(j,"type","number"),L(j,"id","toolbox--table-explicit-starty"),L(z,"for","toolbox--table-explicit-starty"),B.p(c,h)},m(e,i){w(e,n,i),w(e,s,i),w(e,r,i),x(r,a),x(r,o),x(r,l),x(r,u),x(u,c),c.checked=c.__value===t[1].tableSettings.type,x(u,d),x(r,p),x(r,m),x(r,f),x(f,h),h.checked=h.__value===t[1].tableSettings.type,x(f,g),x(r,_),w(e,y,i),G&&G.m(e,i),w(e,v,i),w(e,b,i),x(b,k),x(b,$),Z($,t[1].tableSettings.xoffset),w(e,T,i),w(e,A,i),w(e,z,i),x(z,O),x(z,j),Z(j,t[1].tableSettings.yoffset),w(e,M,i),w(e,D,i),w(e,P,i),w(e,q,i),w(e,F,i),U||(V=[C(c,"change",t[2]),C(h,"change",t[4]),C($,"input",t[6]),C(j,"input",t[7])],U=!0)},p(e,[t]){2&t&&(c.checked=c.__value===e[1].tableSettings.type),2&t&&(h.checked=h.__value===e[1].tableSettings.type),"square"===e[1].tableSettings.type?G?G.p(e,t):(G=on(e),G.c(),G.m(v.parentNode,v)):G&&(G.d(1),G=null),2&t&&R($.value)!==e[1].tableSettings.xoffset&&Z($,e[1].tableSettings.xoffset),2&t&&R(j.value)!==e[1].tableSettings.yoffset&&Z(j,e[1].tableSettings.yoffset)},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),e&&N(y),G&&G.d(e),e&&N(v),e&&N(b),e&&N(T),e&&N(A),e&&N(z),e&&N(M),e&&N(D),e&&N(P),e&&N(q),e&&N(F),B.r(),U=!1,i(V)}}}function un(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(1,r=e))),o);t.$$.on_destroy.push((()=>i()));let{progData:o}=n;a();return t.$$set=e=>{"progData"in e&&a(s(0,o=e.progData))},[o,r,function(){r.tableSettings.type=this.__value,o.set(r)},[[]],function(){r.tableSettings.type=this.__value,o.set(r)},function(){r.tableSettings.squareUpward=this.checked,o.set(r)},function(){r.tableSettings.xoffset=R(this.value),o.set(r)},function(){r.tableSettings.yoffset=R(this.value),o.set(r)}]}class cn extends Ie{constructor(e){super(),Se(this,e,un,ln,o,{progData:0})}}function dn(e,t,n){const s=e.slice();return s[12]=t[n],s[13]=t,s[14]=n,s}function pn(e){let t,n=e[1],s=[];for(let t=0;t<n.length;t+=1)s[t]=mn(dn(e,n,t));return{c(){t=S("p");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,n){w(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(14&r){let i;for(n=e[1],i=0;i<n.length;i+=1){const a=dn(e,n,i);s[i]?s[i].p(a,r):(s[i]=mn(a),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&N(t),T(s,e)}}}function mn(e){let t,n,s,r,a,o,l,u,c=e[12]+"";function d(){return e[7](e[12])}function p(){e[8].call(n,e[12])}return{c(){t=S("label"),n=S("input"),r=I(c),o=S("br"),L(n,"type","checkbox"),L(n,"id",s="toolbox--import-bfile-"+e[12]),L(t,"for",a="toolbox--import-bfile-"+e[12])},m(s,i){w(s,t,i),x(t,n),n.checked=e[2][e[12]],x(t,r),w(s,o,i),l||(u=[C(n,"input",d),C(n,"change",p)],l=!0)},p(i,o){e=i,2&o&&s!==(s="toolbox--import-bfile-"+e[12])&&L(n,"id",s),6&o&&(n.checked=e[2][e[12]]),2&o&&c!==(c=e[12]+"")&&O(r,c),2&o&&a!==(a="toolbox--import-bfile-"+e[12])&&L(t,"for",a)},d(e){e&&N(t),e&&N(o),l=!1,i(u)}}}function fn(e){let t,n,s,r,i=e[2][e[4]]?"and selected":"but not selected. check the checkbox instead";return{c(){t=S("p"),n=I("This sequence's checkbox is already shown. ("),s=I(i),r=I(")"),j(t,"color","red")},m(e,i){w(e,t,i),x(t,n),x(t,s),x(t,r)},p(e,t){20&t&&i!==(i=e[2][e[4]]?"and selected":"but not selected. check the checkbox instead")&&O(s,i)},d(e){e&&N(t)}}}function hn(t){let n,s,r,a,o,l,u,c,d,p,m,f,h,g,_,y=t[1].includes(t[4]),v=t[1].length&&pn(t),b=y&&fn(t);return{c(){n=S("h1"),n.textContent="Import bfiles",s=E(),v&&v.c(),r=E(),a=S("label"),o=I("Import other bfile: A"),l=S("input"),u=E(),c=S("br"),d=E(),b&&b.c(),p=E(),m=S("button"),f=I("Add"),L(l,"type","number"),L(l,"id","toolbox--add-import-bfile"),L(a,"for","toolbox--add-import-bfile"),m.disabled=h=t[1].includes(t[4])},m(e,i){w(e,n,i),w(e,s,i),v&&v.m(e,i),w(e,r,i),w(e,a,i),x(a,o),x(a,l),x(a,u),w(e,c,i),w(e,d,i),b&&b.m(e,i),w(e,p,i),w(e,m,i),x(m,f),g||(_=[C(l,"input",t[5]),C(m,"click",z(t[9]))],g=!0)},p(e,[t]){e[1].length?v?v.p(e,t):(v=pn(e),v.c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null),18&t&&(y=e[1].includes(e[4])),y?b?b.p(e,t):(b=fn(e),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null),18&t&&h!==(h=e[1].includes(e[4]))&&(m.disabled=h)},i:e,o:e,d(e){e&&N(n),e&&N(s),v&&v.d(e),e&&N(r),e&&N(a),e&&N(c),e&&N(d),b&&b.d(e),e&&N(p),e&&N(m),g=!1,i(_)}}}const gn=/(?<=\W)A\d{6,7}(?=\()/g;function _n(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(6,r=e))),o);t.$$.on_destroy.push((()=>i()));let{progData:o}=n;a();let u={},c=[];function d(e){let t=e.match(gn);s(1,c=[...new Set(c.filter((e=>u[e])).concat(t))].sort()),s(1,c=c.filter((e=>"string"==typeof e))),c.forEach((t=>{u[t]||s(2,p[t]=function(t){return!e.match(new RegExp(t+String.raw`\([^)]+\)=`))}(t),p)}))}const p={};let f="A0";return t.$$set=e=>{"progData"in e&&a(s(0,o=e.progData))},t.$$.update=()=>{var e,n;2&t.$$.dirty&&console.log("toShpw",c),64&t.$$.dirty&&d(r.code),6&t.$$.dirty&&(e=c,n=p,m(o,r.importBfilesFor=e.filter((e=>n[e])),r))},[o,c,p,u,f,function(e){let t=e.target;t.value=t.value.replaceAll(/\D/g,""),s(4,f="A"+t.value.padStart(6,"0"))},r,e=>s(3,u[e]=!0,u),function(e){p[e]=this.checked,s(2,p)},()=>{s(3,u[f]=!0,u),s(2,p[f]=!0,p),c.push(f),c.sort()}]}class yn extends Ie{constructor(e){super(),Se(this,e,_n,hn,o,{progData:0})}}let vn=new class{constructor(){this.computeTypeListeners=[]}onComputeType(e){this.computeTypeListeners.push(e)}dispatchComputeType(e,t){for(let n of this.computeTypeListeners)n(e,t)}};function bn(e){let t,n,s,r,i,a;return{c(){t=S("p"),n=S("label"),s=I("Max antidiagonal/row count: "),r=S("input"),L(r,"id","toolbox--limit-size-max-antidiagonal"),L(r,"type","number"),L(r,"min","0"),L(n,"for","toolbox--limit-size-max-antidiagonal")},m(o,l){w(o,t,l),x(t,n),x(n,s),x(n,r),Z(r,e[1].limit.maxIndex.maxAntidiaonal),i||(a=C(r,"input",e[5]),i=!0)},p(e,t){2&t&&R(r.value)!==e[1].limit.maxIndex.maxAntidiaonal&&Z(r,e[1].limit.maxIndex.maxAntidiaonal)},d(e){e&&N(t),i=!1,a()}}}function xn(e){let t,n,s,r,i,a;return{c(){t=S("p"),n=S("label"),s=I("Max index: "),r=S("input"),L(r,"id","toolbox--limit-size-max-index"),L(r,"type","number"),L(n,"for","toolbox--limit-size-max-index")},m(o,l){w(o,t,l),x(t,n),x(n,s),x(n,r),Z(r,e[1].limit.maxIndex.maxIndex),i||(a=C(r,"input",e[4]),i=!0)},p(e,t){2&t&&R(r.value)!==e[1].limit.maxIndex.maxIndex&&Z(r,e[1].limit.maxIndex.maxIndex)},d(e){e&&N(t),i=!1,a()}}}function kn(t){let n,s,r,a,o,l,u,c,d,p,m,f,h,g,_,y,v;function b(e,t){return"index"===e[1].limit.maxIndex.type?xn:"antidiagonals"===e[1].limit.maxIndex.type?bn:void 0}let k=b(t),$=k&&k(t);return{c(){n=S("h1"),n.textContent="Limit output length",s=E(),r=S("p"),a=S("label"),o=I("Max line length: "),l=S("input"),u=E(),c=S("p"),d=S("label"),p=I("Max size type:\n        "),m=S("select"),f=S("option"),f.textContent="index",h=S("option"),h.textContent="antidiagonals/rows",g=E(),$&&$.c(),_=A(),L(l,"type","number"),L(l,"id","toolbox--limit-line-length"),L(a,"for","toolbox--limit-line-length"),f.__value="index",f.value=f.__value,h.__value="antidiagonals",h.value=h.__value,L(m,"id","toolbox--limit-size-type"),void 0===t[1].limit.maxIndex.type&&re((()=>t[3].call(m))),L(d,"for","toolbox--limit-size-type")},m(e,i){w(e,n,i),w(e,s,i),w(e,r,i),x(r,a),x(a,o),x(a,l),Z(l,t[1].limit.maxLineLength),w(e,u,i),w(e,c,i),x(c,d),x(d,p),x(d,m),x(m,f),x(m,h),M(m,t[1].limit.maxIndex.type,!0),w(e,g,i),$&&$.m(e,i),w(e,_,i),y||(v=[C(l,"input",t[2]),C(m,"change",t[3])],y=!0)},p(e,[t]){2&t&&R(l.value)!==e[1].limit.maxLineLength&&Z(l,e[1].limit.maxLineLength),2&t&&M(m,e[1].limit.maxIndex.type),k===(k=b(e))&&$?$.p(e,t):($&&$.d(1),$=k&&k(e),$&&($.c(),$.m(_.parentNode,_)))},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),e&&N(u),e&&N(c),e&&N(g),$&&$.d(e),e&&N(_),y=!1,i(v)}}}function $n(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(1,r=e))),o);t.$$.on_destroy.push((()=>i()));let{progData:o}=n;a();const u=["table explicit"];return vn.onComputeType((e=>{m(o,r.limit.maxIndex.type=u.includes(e)?"antidiagonals":"index",r),console.log("eventtt")})),t.$$set=e=>{"progData"in e&&a(s(0,o=e.progData))},[o,r,function(){r.limit.maxLineLength=R(this.value),o.set(r)},function(){r.limit.maxIndex.type=D(this),o.set(r)},function(){r.limit.maxIndex.maxIndex=R(this.value),o.set(r)},function(){r.limit.maxIndex.maxAntidiaonal=R(this.value),o.set(r)}]}class wn extends Ie{constructor(e){super(),Se(this,e,$n,kn,o,{progData:0})}}var Nn,Tn;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),s={};for(const e of n)s[e]=t[e];return e.objectValues(s)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Nn||(Nn={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Tn||(Tn={}));const Sn=Nn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),In=e=>{switch(typeof e){case"undefined":return Sn.undefined;case"string":return Sn.string;case"number":return isNaN(e)?Sn.nan:Sn.number;case"boolean":return Sn.boolean;case"function":return Sn.function;case"bigint":return Sn.bigint;case"symbol":return Sn.symbol;case"object":return Array.isArray(e)?Sn.array:null===e?Sn.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Sn.promise:"undefined"!=typeof Map&&e instanceof Map?Sn.map:"undefined"!=typeof Set&&e instanceof Set?Sn.set:"undefined"!=typeof Date&&e instanceof Date?Sn.date:Sn.object;default:return Sn.unknown}},En=Nn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class An extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},s=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(s);else if("invalid_return_type"===r.code)s(r.returnTypeError);else if("invalid_arguments"===r.code)s(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,s=0;for(;s<r.path.length;){const n=r.path[s];s===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}An.create=e=>new An(e);const Cn=(e,t)=>{let n;switch(e.code){case En.invalid_type:n=e.received===Sn.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case En.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Nn.jsonStringifyReplacer)}`;break;case En.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nn.joinValues(e.keys,", ")}`;break;case En.invalid_union:n="Invalid input";break;case En.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nn.joinValues(e.options)}`;break;case En.invalid_enum_value:n=`Invalid enum value. Expected ${Nn.joinValues(e.options)}, received '${e.received}'`;break;case En.invalid_arguments:n="Invalid function arguments";break;case En.invalid_return_type:n="Invalid function return type";break;case En.invalid_date:n="Invalid date";break;case En.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Nn.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case En.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case En.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case En.custom:n="Invalid input";break;case En.invalid_intersection_types:n="Intersection results could not be merged";break;case En.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case En.not_finite:n="Number must be finite";break;default:n=t.defaultError,Nn.assertNever(e)}return{message:n}};let zn=Cn;function Ln(){return zn}const Rn=e=>{const{data:t,path:n,errorMaps:s,issueData:r}=e,i=[...n,...r.path||[]],a={...r,path:i};let o="";const l=s.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(a,{data:t,defaultError:o}).message;return{...r,path:i,message:r.message||o}};function On(e,t){const n=Rn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ln(),Cn].filter((e=>!!e))});e.common.issues.push(n)}class Zn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if("aborted"===s.status)return jn;"dirty"===s.status&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return Zn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:t,value:r}=s;if("aborted"===t.status)return jn;if("aborted"===r.status)return jn;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!s.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const jn=Object.freeze({status:"aborted"}),Mn=e=>({status:"dirty",value:e}),Dn=e=>({status:"valid",value:e}),Pn=e=>"aborted"===e.status,qn=e=>"dirty"===e.status,Fn=e=>"valid"===e.status,Bn=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Un;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Un||(Un={}));class Vn{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gn=(e,t)=>{if(Fn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new An(e.common.issues);return this._error=t,this._error}}};function Hn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:r}=e;if(t&&(n||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=s?s:t.defaultError}:{message:null!=n?n:t.defaultError},description:r}}class Wn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return In(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:In(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:In(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Bn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:In(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Gn(s,r)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:In(e)},s=this._parse({data:e,path:n.path,parent:n}),r=await(Bn(s)?s:Promise.resolve(s));return Gn(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,s)=>{const r=e(t),i=()=>s.addIssue({code:En.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(i(),!1))):!!r||(i(),!1)}))}refinement(e,t){return this._refinement(((n,s)=>!!e(n)||(s.addIssue("function"==typeof t?t(n,s):t),!1)))}_refinement(e){return new Os({schema:this,typeName:Hs.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Zs.create(this,this._def)}nullable(){return js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this,this._def)}promise(){return Rs.create(this,this._def)}or(e){return vs.create([this,e],this._def)}and(e){return $s.create(this,e,this._def)}transform(e){return new Os({...Hn(this._def),schema:this,typeName:Hs.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Ms({...Hn(this._def),innerType:this,defaultValue:t,typeName:Hs.ZodDefault})}brand(){return new Fs({typeName:Hs.ZodBranded,type:this,...Hn(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Ds({...Hn(this._def),innerType:this,catchValue:t,typeName:Hs.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Bs.create(this,e)}readonly(){return Us.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kn=/^c[^\s-]{8,}$/i,Xn=/^[a-z][a-z0-9]*$/,Jn=/^[0-9A-HJKMNP-TV-Z]{26}$/,Yn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qn=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let es;const ts=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ns=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class ss extends Wn{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Sn.string){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.string,received:t.parsedType}),jn}const t=new Zn;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),On(n,{code:En.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),On(n,{code:En.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const s=e.data.length>a.value,r=e.data.length<a.value;(s||r)&&(n=this._getOrReturnCtx(e,n),s?On(n,{code:En.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&On(n,{code:En.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Qn.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"email",code:En.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)es||(es=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),es.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"emoji",code:En.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)Yn.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"uuid",code:En.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Kn.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"cuid",code:En.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)Xn.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"cuid2",code:En.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)Jn.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"ulid",code:En.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(s){n=this._getOrReturnCtx(e,n),On(n,{validation:"url",code:En.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{validation:"regex",code:En.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),On(n,{code:En.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),On(n,{code:En.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),On(n,{code:En.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){((i=a).precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):0===i.precision?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),On(n,{code:En.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else"ip"===a.kind?(s=e.data,("v4"!==(r=a.version)&&r||!ts.test(s))&&("v6"!==r&&r||!ns.test(s))&&(n=this._getOrReturnCtx(e,n),On(n,{validation:"ip",code:En.invalid_string,message:a.message}),t.dirty())):Nn.assertNever(a);var s,r,i;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:En.invalid_string,...Un.errToObj(n)})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Un.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Un.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Un.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Un.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Un.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Un.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Un.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Un.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...Un.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Un.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Un.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Un.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Un.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Un.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Un.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Un.errToObj(t)})}nonempty(e){return this.min(1,Un.errToObj(e))}trim(){return new ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function rs(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}ss.create=e=>{var t;return new ss({checks:[],typeName:Hs.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Hn(e)})};class is extends Wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Sn.number){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.number,received:t.parsedType}),jn}let t;const n=new Zn;for(const s of this._def.checks)if("int"===s.kind)Nn.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),On(t,{code:En.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty());else if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else"multipleOf"===s.kind?0!==rs(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),On(t,{code:En.not_finite,message:s.message}),n.dirty()):Nn.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Un.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Un.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Un.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Un.toString(t))}setLimit(e,t,n,s){return new is({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Un.toString(s)}]})}_addCheck(e){return new is({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Un.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Un.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Un.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Un.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Un.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Un.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Un.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Un.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Un.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Nn.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}is.create=e=>new is({checks:[],typeName:Hs.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Hn(e)});class as extends Wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Sn.bigint){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.bigint,received:t.parsedType}),jn}let t;const n=new Zn;for(const s of this._def.checks)if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),On(t,{code:En.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):Nn.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Un.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Un.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Un.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Un.toString(t))}setLimit(e,t,n,s){return new as({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Un.toString(s)}]})}_addCheck(e){return new as({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Un.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Un.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Un.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Un.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Un.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}as.create=e=>{var t;return new as({checks:[],typeName:Hs.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Hn(e)})};class os extends Wn{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Sn.boolean){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.boolean,received:t.parsedType}),jn}return Dn(e.data)}}os.create=e=>new os({typeName:Hs.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Hn(e)});class ls extends Wn{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Sn.date){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.date,received:t.parsedType}),jn}if(isNaN(e.data.getTime())){return On(this._getOrReturnCtx(e),{code:En.invalid_date}),jn}const t=new Zn;let n;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),On(n,{code:En.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),On(n,{code:En.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):Nn.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ls({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Un.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Un.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ls.create=e=>new ls({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Hs.ZodDate,...Hn(e)});class us extends Wn{_parse(e){if(this._getType(e)!==Sn.symbol){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.symbol,received:t.parsedType}),jn}return Dn(e.data)}}us.create=e=>new us({typeName:Hs.ZodSymbol,...Hn(e)});class cs extends Wn{_parse(e){if(this._getType(e)!==Sn.undefined){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.undefined,received:t.parsedType}),jn}return Dn(e.data)}}cs.create=e=>new cs({typeName:Hs.ZodUndefined,...Hn(e)});class ds extends Wn{_parse(e){if(this._getType(e)!==Sn.null){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.null,received:t.parsedType}),jn}return Dn(e.data)}}ds.create=e=>new ds({typeName:Hs.ZodNull,...Hn(e)});class ps extends Wn{constructor(){super(...arguments),this._any=!0}_parse(e){return Dn(e.data)}}ps.create=e=>new ps({typeName:Hs.ZodAny,...Hn(e)});class ms extends Wn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dn(e.data)}}ms.create=e=>new ms({typeName:Hs.ZodUnknown,...Hn(e)});class fs extends Wn{_parse(e){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.never,received:t.parsedType}),jn}}fs.create=e=>new fs({typeName:Hs.ZodNever,...Hn(e)});class hs extends Wn{_parse(e){if(this._getType(e)!==Sn.undefined){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.void,received:t.parsedType}),jn}return Dn(e.data)}}hs.create=e=>new hs({typeName:Hs.ZodVoid,...Hn(e)});class gs extends Wn{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==Sn.array)return On(t,{code:En.invalid_type,expected:Sn.array,received:t.parsedType}),jn;if(null!==s.exactLength){const e=t.data.length>s.exactLength.value,r=t.data.length<s.exactLength.value;(e||r)&&(On(t,{code:e?En.too_big:En.too_small,minimum:r?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(On(t,{code:En.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(On(t,{code:En.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>s.type._parseAsync(new Vn(t,e,t.path,n))))).then((e=>Zn.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>s.type._parseSync(new Vn(t,e,t.path,n))));return Zn.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new gs({...this._def,minLength:{value:e,message:Un.toString(t)}})}max(e,t){return new gs({...this._def,maxLength:{value:e,message:Un.toString(t)}})}length(e,t){return new gs({...this._def,exactLength:{value:e,message:Un.toString(t)}})}nonempty(e){return this.min(1,e)}}function _s(e){if(e instanceof ys){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Zs.create(_s(s))}return new ys({...e._def,shape:()=>t})}return e instanceof gs?new gs({...e._def,type:_s(e.element)}):e instanceof Zs?Zs.create(_s(e.unwrap())):e instanceof js?js.create(_s(e.unwrap())):e instanceof ws?ws.create(e.items.map((e=>_s(e)))):e}gs.create=(e,t)=>new gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Hs.ZodArray,...Hn(t)});class ys extends Wn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Nn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Sn.object){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.object,received:t.parsedType}),jn}const{status:t,ctx:n}=this._processInputParams(e),{shape:s,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof fs&&"strip"===this._def.unknownKeys))for(const e in n.data)r.includes(e)||i.push(e);const a=[];for(const e of r){const t=s[e],r=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new Vn(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof fs){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(On(n,{code:En.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const s=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new Vn(n,s,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Zn.mergeObjectSync(t,e))):Zn.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Un.errToObj,new ys({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var s,r,i,a;const o=null!==(i=null===(r=(s=this._def).errorMap)||void 0===r?void 0:r.call(s,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=Un.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new ys({...this._def,unknownKeys:"strip"})}passthrough(){return new ys({...this._def,unknownKeys:"passthrough"})}extend(e){return new ys({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ys({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Hs.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ys({...this._def,catchall:e})}pick(e){const t={};return Nn.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new ys({...this._def,shape:()=>t})}omit(e){const t={};return Nn.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new ys({...this._def,shape:()=>t})}deepPartial(){return _s(this)}partial(e){const t={};return Nn.objectKeys(this.shape).forEach((n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()})),new ys({...this._def,shape:()=>t})}required(e){const t={};return Nn.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Zs;)e=e._def.innerType;t[n]=e}})),new ys({...this._def,shape:()=>t})}keyof(){return Cs(Nn.objectKeys(this.shape))}}ys.create=(e,t)=>new ys({shape:()=>e,unknownKeys:"strip",catchall:fs.create(),typeName:Hs.ZodObject,...Hn(t)}),ys.strictCreate=(e,t)=>new ys({shape:()=>e,unknownKeys:"strict",catchall:fs.create(),typeName:Hs.ZodObject,...Hn(t)}),ys.lazycreate=(e,t)=>new ys({shape:e,unknownKeys:"strip",catchall:fs.create(),typeName:Hs.ZodObject,...Hn(t)});class vs extends Wn{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new An(e.ctx.common.issues)));return On(t,{code:En.invalid_union,unionErrors:n}),jn}));{let e;const s=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&s.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=s.map((e=>new An(e)));return On(t,{code:En.invalid_union,unionErrors:r}),jn}}get options(){return this._def.options}}vs.create=(e,t)=>new vs({options:e,typeName:Hs.ZodUnion,...Hn(t)});const bs=e=>e instanceof Es?bs(e.schema):e instanceof Os?bs(e.innerType()):e instanceof As?[e.value]:e instanceof zs?e.options:e instanceof Ls?Object.keys(e.enum):e instanceof Ms?bs(e._def.innerType):e instanceof cs?[void 0]:e instanceof ds?[null]:null;class xs extends Wn{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Sn.object)return On(t,{code:En.invalid_type,expected:Sn.object,received:t.parsedType}),jn;const n=this.discriminator,s=t.data[n],r=this.optionsMap.get(s);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(On(t,{code:En.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),jn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const n of t){const t=bs(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(s.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);s.set(r,n)}}return new xs({typeName:Hs.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Hn(n)})}}function ks(e,t){const n=In(e),s=In(t);if(e===t)return{valid:!0,data:e};if(n===Sn.object&&s===Sn.object){const n=Nn.objectKeys(t),s=Nn.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r={...e,...t};for(const n of s){const s=ks(e[n],t[n]);if(!s.valid)return{valid:!1};r[n]=s.data}return{valid:!0,data:r}}if(n===Sn.array&&s===Sn.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const r=ks(e[s],t[s]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===Sn.date&&s===Sn.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class $s extends Wn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(e,s)=>{if(Pn(e)||Pn(s))return jn;const r=ks(e.value,s.value);return r.valid?((qn(e)||qn(s))&&t.dirty(),{status:t.value,value:r.data}):(On(n,{code:En.invalid_intersection_types}),jn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>s(e,t))):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}$s.create=(e,t,n)=>new $s({left:e,right:t,typeName:Hs.ZodIntersection,...Hn(n)});class ws extends Wn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Sn.array)return On(n,{code:En.invalid_type,expected:Sn.array,received:n.parsedType}),jn;if(n.data.length<this._def.items.length)return On(n,{code:En.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jn;!this._def.rest&&n.data.length>this._def.items.length&&(On(n,{code:En.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map(((e,t)=>{const s=this._def.items[t]||this._def.rest;return s?s._parse(new Vn(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(s).then((e=>Zn.mergeArray(t,e))):Zn.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new ws({...this._def,rest:e})}}ws.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ws({items:e,typeName:Hs.ZodTuple,rest:null,...Hn(t)})};class Ns extends Wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Sn.object)return On(n,{code:En.invalid_type,expected:Sn.object,received:n.parsedType}),jn;const s=[],r=this._def.keyType,i=this._def.valueType;for(const e in n.data)s.push({key:r._parse(new Vn(n,e,n.path,e)),value:i._parse(new Vn(n,n.data[e],n.path,e))});return n.common.async?Zn.mergeObjectAsync(t,s):Zn.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return new Ns(t instanceof Wn?{keyType:e,valueType:t,typeName:Hs.ZodRecord,...Hn(n)}:{keyType:ss.create(),valueType:e,typeName:Hs.ZodRecord,...Hn(t)})}}class Ts extends Wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Sn.map)return On(n,{code:En.invalid_type,expected:Sn.map,received:n.parsedType}),jn;const s=this._def.keyType,r=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:s._parse(new Vn(n,e,n.path,[i,"key"])),value:r._parse(new Vn(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const s=await n.key,r=await n.value;if("aborted"===s.status||"aborted"===r.status)return jn;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const s=n.key,r=n.value;if("aborted"===s.status||"aborted"===r.status)return jn;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}}}}Ts.create=(e,t,n)=>new Ts({valueType:t,keyType:e,typeName:Hs.ZodMap,...Hn(n)});class Ss extends Wn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Sn.set)return On(n,{code:En.invalid_type,expected:Sn.set,received:n.parsedType}),jn;const s=this._def;null!==s.minSize&&n.data.size<s.minSize.value&&(On(n,{code:En.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&n.data.size>s.maxSize.value&&(On(n,{code:En.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const r=this._def.valueType;function i(e){const n=new Set;for(const s of e){if("aborted"===s.status)return jn;"dirty"===s.status&&t.dirty(),n.add(s.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>r._parse(new Vn(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>i(e))):i(a)}min(e,t){return new Ss({...this._def,minSize:{value:e,message:Un.toString(t)}})}max(e,t){return new Ss({...this._def,maxSize:{value:e,message:Un.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ss.create=(e,t)=>new Ss({valueType:e,minSize:null,maxSize:null,typeName:Hs.ZodSet,...Hn(t)});class Is extends Wn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Sn.function)return On(t,{code:En.invalid_type,expected:Sn.function,received:t.parsedType}),jn;function n(e,n){return Rn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ln(),Cn].filter((e=>!!e)),issueData:{code:En.invalid_arguments,argumentsError:n}})}function s(e,n){return Rn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ln(),Cn].filter((e=>!!e)),issueData:{code:En.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Rs){const e=this;return Dn((async function(...t){const a=new An([]),o=await e._def.args.parseAsync(t,r).catch((e=>{throw a.addIssue(n(t,e)),a})),l=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(l,r).catch((e=>{throw a.addIssue(s(l,e)),a}))}))}{const e=this;return Dn((function(...t){const a=e._def.args.safeParse(t,r);if(!a.success)throw new An([n(t,a.error)]);const o=Reflect.apply(i,this,a.data),l=e._def.returns.safeParse(o,r);if(!l.success)throw new An([s(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Is({...this._def,args:ws.create(e).rest(ms.create())})}returns(e){return new Is({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Is({args:e||ws.create([]).rest(ms.create()),returns:t||ms.create(),typeName:Hs.ZodFunction,...Hn(n)})}}class Es extends Wn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Es.create=(e,t)=>new Es({getter:e,typeName:Hs.ZodLazy,...Hn(t)});class As extends Wn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return On(t,{received:t.data,code:En.invalid_literal,expected:this._def.value}),jn}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Cs(e,t){return new zs({values:e,typeName:Hs.ZodEnum,...Hn(t)})}As.create=(e,t)=>new As({value:e,typeName:Hs.ZodLiteral,...Hn(t)});class zs extends Wn{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return On(t,{expected:Nn.joinValues(n),received:t.parsedType,code:En.invalid_type}),jn}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return On(t,{received:t.data,code:En.invalid_enum_value,options:n}),jn}return Dn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return zs.create(e)}exclude(e){return zs.create(this.options.filter((t=>!e.includes(t))))}}zs.create=Cs;class Ls extends Wn{_parse(e){const t=Nn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Sn.string&&n.parsedType!==Sn.number){const e=Nn.objectValues(t);return On(n,{expected:Nn.joinValues(e),received:n.parsedType,code:En.invalid_type}),jn}if(-1===t.indexOf(e.data)){const e=Nn.objectValues(t);return On(n,{received:n.data,code:En.invalid_enum_value,options:e}),jn}return Dn(e.data)}get enum(){return this._def.values}}Ls.create=(e,t)=>new Ls({values:e,typeName:Hs.ZodNativeEnum,...Hn(t)});class Rs extends Wn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Sn.promise&&!1===t.common.async)return On(t,{code:En.invalid_type,expected:Sn.promise,received:t.parsedType}),jn;const n=t.parsedType===Sn.promise?t.data:Promise.resolve(t.data);return Dn(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Rs.create=(e,t)=>new Rs({type:e,typeName:Hs.ZodPromise,...Hn(t)});class Os extends Wn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Hs.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:e=>{On(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===s.type){const e=s.transform(n.data,r);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===s.type){const e=e=>{const t=s.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?jn:("dirty"===s.status&&t.dirty(),e(s.value),{status:t.value,value:s.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?jn:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===s.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Fn(e))return e;const i=s.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Fn(e)?Promise.resolve(s.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}Nn.assertNever(s)}}Os.create=(e,t,n)=>new Os({schema:e,typeName:Hs.ZodEffects,effect:t,...Hn(n)}),Os.createWithPreprocess=(e,t,n)=>new Os({schema:t,effect:{type:"preprocess",transform:e},typeName:Hs.ZodEffects,...Hn(n)});class Zs extends Wn{_parse(e){return this._getType(e)===Sn.undefined?Dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zs.create=(e,t)=>new Zs({innerType:e,typeName:Hs.ZodOptional,...Hn(t)});class js extends Wn{_parse(e){return this._getType(e)===Sn.null?Dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}js.create=(e,t)=>new js({innerType:e,typeName:Hs.ZodNullable,...Hn(t)});class Ms extends Wn{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Sn.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ms.create=(e,t)=>new Ms({innerType:e,typeName:Hs.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Hn(t)});class Ds extends Wn{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bn(s)?s.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new An(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new An(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ds.create=(e,t)=>new Ds({innerType:e,typeName:Hs.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Hn(t)});class Ps extends Wn{_parse(e){if(this._getType(e)!==Sn.nan){const t=this._getOrReturnCtx(e);return On(t,{code:En.invalid_type,expected:Sn.nan,received:t.parsedType}),jn}return{status:"valid",value:e.data}}}Ps.create=e=>new Ps({typeName:Hs.ZodNaN,...Hn(e)});const qs=Symbol("zod_brand");class Fs extends Wn{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bs extends Wn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?jn:"dirty"===e.status?(t.dirty(),Mn(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?jn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Bs({in:e,out:t,typeName:Hs.ZodPipeline})}}class Us extends Wn{_parse(e){const t=this._def.innerType._parse(e);return Fn(t)&&(t.value=Object.freeze(t.value)),t}}Us.create=(e,t)=>new Us({innerType:e,typeName:Hs.ZodReadonly,...Hn(t)});const Vs=(e,t={},n)=>e?ps.create().superRefine(((s,r)=>{var i,a;if(!e(s)){const e="function"==typeof t?t(s):"string"==typeof t?{message:t}:t,o=null===(a=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===a||a,l="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...l,fatal:o})}})):ps.create(),Gs={object:ys.lazycreate};var Hs;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Hs||(Hs={}));const Ws=ss.create,Ks=is.create,Xs=Ps.create,Js=as.create,Ys=os.create,Qs=ls.create,er=us.create,tr=cs.create,nr=ds.create,sr=ps.create,rr=ms.create,ir=fs.create,ar=hs.create,or=gs.create,lr=ys.create,ur=ys.strictCreate,cr=vs.create,dr=xs.create,pr=$s.create,mr=ws.create,fr=Ns.create,hr=Ts.create,gr=Ss.create,_r=Is.create,yr=Es.create,vr=As.create,br=zs.create,xr=Ls.create,kr=Rs.create,$r=Os.create,wr=Zs.create,Nr=js.create,Tr=Os.createWithPreprocess,Sr=Bs.create,Ir={string:e=>ss.create({...e,coerce:!0}),number:e=>is.create({...e,coerce:!0}),boolean:e=>os.create({...e,coerce:!0}),bigint:e=>as.create({...e,coerce:!0}),date:e=>ls.create({...e,coerce:!0})},Er=jn;var Ar=Object.freeze({__proto__:null,defaultErrorMap:Cn,setErrorMap:function(e){zn=e},getErrorMap:Ln,makeIssue:Rn,EMPTY_PATH:[],addIssueToContext:On,ParseStatus:Zn,INVALID:jn,DIRTY:Mn,OK:Dn,isAborted:Pn,isDirty:qn,isValid:Fn,isAsync:Bn,get util(){return Nn},get objectUtil(){return Tn},ZodParsedType:Sn,getParsedType:In,ZodType:Wn,ZodString:ss,ZodNumber:is,ZodBigInt:as,ZodBoolean:os,ZodDate:ls,ZodSymbol:us,ZodUndefined:cs,ZodNull:ds,ZodAny:ps,ZodUnknown:ms,ZodNever:fs,ZodVoid:hs,ZodArray:gs,ZodObject:ys,ZodUnion:vs,ZodDiscriminatedUnion:xs,ZodIntersection:$s,ZodTuple:ws,ZodRecord:Ns,ZodMap:Ts,ZodSet:Ss,ZodFunction:Is,ZodLazy:Es,ZodLiteral:As,ZodEnum:zs,ZodNativeEnum:Ls,ZodPromise:Rs,ZodEffects:Os,ZodTransformer:Os,ZodOptional:Zs,ZodNullable:js,ZodDefault:Ms,ZodCatch:Ds,ZodNaN:Ps,BRAND:qs,ZodBranded:Fs,ZodPipeline:Bs,ZodReadonly:Us,custom:Vs,Schema:Wn,ZodSchema:Wn,late:Gs,get ZodFirstPartyTypeKind(){return Hs},coerce:Ir,any:sr,array:or,bigint:Js,boolean:Ys,date:Qs,discriminatedUnion:dr,effect:$r,enum:br,function:_r,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Vs((t=>t instanceof e),t),intersection:pr,lazy:yr,literal:vr,map:hr,nan:Xs,nativeEnum:xr,never:ir,null:nr,nullable:Nr,number:Ks,object:lr,oboolean:()=>Ys().optional(),onumber:()=>Ks().optional(),optional:wr,ostring:()=>Ws().optional(),pipeline:Sr,preprocess:Tr,promise:kr,record:fr,set:gr,strictObject:ur,string:Ws,symbol:er,transformer:$r,tuple:mr,undefined:tr,union:cr,unknown:rr,void:ar,NEVER:Er,ZodIssueCode:En,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:An});let Cr=Ar.enum(["list","explicit","check","table explicit"]),zr=Ar.object({lengthGuessAlgorithm:Ar.object({type:Ar.enum(["linear","custom"]),start:Ar.number(),increment:Ar.number(),customGuesses:Ar.array(Ar.number())})}),Lr=Ar.enum(["b","kb","mb","gb"]),Rr=Ar.object({lang:Ar.enum(["PARI",""]),code:Ar.string(),type:Cr,main:Ar.string(),offset:Ar.number(),truncate:Ar.number(),shouldTruncate:Ar.boolean(),version:Ar.literal("0.1"),includeHeader:Ar.boolean(),sequenceId:Ar.string(),listSettings:zr,checkSettings:Ar.object({checkStart:Ar.number()}),tableSettings:Ar.object({xoffset:Ar.number(),yoffset:Ar.number(),type:Ar.enum(["triangle","square"]),squareUpward:Ar.boolean()}),langSettings:Ar.object({pari:Ar.object({parisize:Ar.object({amount:Ar.number(),unit:Lr}),parisizemax:Ar.object({amount:Ar.number(),unit:Lr}),includeMemoize:Ar.boolean()})}),maxResult:Ar.number(),importBfilesFor:Ar.array(Ar.string()),bfileIdealTransferBlocksize:Ar.number(),timestamp:Ar.number(),limit:Ar.object({maxLineLength:Ar.number(),maxIndex:Ar.object({type:Ar.enum(["antidiagonals","index"]),maxAntidiaonal:Ar.number(),maxIndex:Ar.number()})}),bfileHashes:Ar.object({}).catchall(Ar.string())});function Or(e){let t,n,s,r,i;return{c(){t=S("h3"),t.textContent="Errors while importing",n=E(),s=S("pre"),r=S("code"),i=I(e[1])},m(e,a){w(e,t,a),w(e,n,a),w(e,s,a),x(s,r),x(r,i)},p(e,t){2&t&&O(i,e[1])},d(e){e&&N(t),e&&N(n),e&&N(s)}}}function Zr(t){let n,s,r,i,a;return{c(){n=S("p"),s=I("Import completed. "),r=S("button"),r.textContent="Undo import"},m(e,o){w(e,n,o),x(n,s),x(n,r),i||(a=C(r,"click",z(t[7])),i=!0)},p:e,d(e){e&&N(n),i=!1,a()}}}function jr(t){let n,s,r,a,o,l,u,c,d,p,m,f;function h(e,t){return e[3]?Zr:e[1]?Or:void 0}let g=h(t),_=g&&g(t);return{c(){n=S("h1"),n.textContent="Import / export",s=E(),r=S("p"),r.textContent='Go to the bfile and copy and paste the settings from there (you can leave the newlines and "#"s in)',a=E(),o=S("button"),o.textContent="Import config from clipboard",l=E(),_&&_.c(),u=E(),c=S("br"),d=E(),p=S("button"),p.textContent="Copy current config to clipboard"},m(e,i){w(e,n,i),w(e,s,i),w(e,r,i),w(e,a,i),w(e,o,i),w(e,l,i),_&&_.m(e,i),w(e,u,i),w(e,c,i),w(e,d,i),w(e,p,i),m||(f=[C(o,"click",z(t[6])),C(p,"click",z(t[5]))],m=!0)},p(e,[t]){g===(g=h(e))&&_?_.p(e,t):(_&&_.d(1),_=g&&g(e),_&&(_.c(),_.m(u.parentNode,u)))},i:e,o:e,d(e){e&&N(n),e&&N(s),e&&N(r),e&&N(a),e&&N(o),e&&N(l),_&&_.d(e),e&&N(u),e&&N(c),e&&N(d),e&&N(p),m=!1,i(f)}}}function Mr(t,n,s){let r,i=e,a=()=>(i(),i=l(o,(e=>s(4,r=e))),o);t.$$.on_destroy.push((()=>i()));let{progData:o}=n;a();let u,c="",d="",p=!1;return t.$$set=e=>{"progData"in e&&a(s(0,o=e.progData))},[o,d,u,p,r,function(){let e=JSON.stringify(r);navigator.clipboard.writeText(e)},function(){navigator.clipboard.readText().then((e=>{c=e,function(){let e;s(1,d=""),s(3,p=!1);try{console.log(Rt(c)),e=JSON.parse(Rt(c))}catch(e){return void s(1,d="Settings are malformed: "+e.message)}if("object"!=typeof e||null===e)return void s(1,d="Settings are malformed: not an object");let t=e.version;if("0.1"!==t)return"0.0.0.1"===t?void s(1,d="importing from version 0.0.0.1 isn't supported because this was the general version used in development and has too many differences."):void s(1,d=`unknown version: ${t}`);let n=Rr.safeParse(e);if(n.success){let e=n.data;if(e.sequenceId!==r.sequenceId)return void s(1,d="sequenceId of imported isn't the sequence currently editing. Please go to the correct sequence page");s(2,u=r),m(o,r=e,r),s(3,p=!0),console.log("imported!",{importCompleted:p})}else s(1,d="while trying to parse the settings, the following issues were encountered: "+n.error.issues.map((e=>`${e.path.join(".")}: ${e.message}`)).join("\n\n"))}()}))},()=>{u&&(m(o,r=u,r),s(3,p=!1))}]}class Dr extends Ie{constructor(e){super(),Se(this,e,Mr,jr,o,{progData:0})}}function Pr(e){let t,n,s,r,i,a,o,l,u,c,d=e[9](e[1].code,e[1].lang)+"";return{c(){t=S("p"),n=I("Detected common pattern, replace code with: \n        "),s=S("code"),r=S("pre"),i=I(d),a=S("br"),o=E(),l=S("button"),l.textContent="Replace",j(r,"display","inline-block")},m(d,p){w(d,t,p),x(t,n),x(t,s),x(s,r),x(r,i),x(t,a),x(t,o),x(t,l),u||(c=C(l,"click",z(e[14])),u=!0)},p(e,t){2&t[0]&&d!==(d=e[9](e[1].code,e[1].lang)+"")&&O(i,d)},d(e){e&&N(t),u=!1,c()}}}function qr(e){let t;return{c(){t=S("p")},m(e,n){w(e,t,n)},d(e){e&&N(t)}}}function Fr(e){let t,n;return t=new cn({props:{progData:e[0]}}),{c(){$e(t.$$.fragment)},m(e,s){we(t,e,s),n=!0},p(e,n){const s={};1&n[0]&&(s.progData=e[0]),t.$set(s)},i(e){n||(_e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function Br(e){let t,n;return t=new Yt({props:{progData:e[0]}}),{c(){$e(t.$$.fragment)},m(e,s){we(t,e,s),n=!0},p(e,n){const s={};1&n[0]&&(s.progData=e[0]),t.$set(s)},i(e){n||(_e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function Ur(e){let t,n;return t=new an({props:{progData:e[0]}}),{c(){$e(t.$$.fragment)},m(e,s){we(t,e,s),n=!0},p(e,n){const s={};1&n[0]&&(s.progData=e[0]),t.$set(s)},i(e){n||(_e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function Vr(t){let n,s,r,i,a;return{c(){n=S("p"),s=I("The code shown above is a shortened version (not including any libraries). "),r=S("button"),r.textContent="View entire code in new tab"},m(e,o){w(e,n,o),x(n,s),x(n,r),i||(a=C(r,"click",z(t[10])),i=!0)},p:e,d(e){e&&N(n),i=!1,a()}}}function Gr(t){let n;return{c(){n=S("p"),n.textContent="Internal error while checking if server is valid.",j(n,"color","red")},m(e,t){w(e,n,t)},p:e,d(e){e&&N(n)}}}function Hr(e){let t;function n(e,t){return e[31].error?Wr:Kr}let s=n(e),r=s(e);return{c(){r.c(),t=A()},m(e,n){r.m(e,n),w(e,t,n)},p(e,i){s===(s=n(e))&&r?r.p(e,i):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&N(t)}}}function Wr(e){let t,n,s=e[31].message+"";return{c(){t=S("p"),n=I(s),j(t,"color","red")},m(e,s){w(e,t,s),x(t,n)},p(e,t){96&t[0]&&s!==(s=e[31].message+"")&&O(n,s)},d(e){e&&N(t)}}}function Kr(t){let n;return{c(){n=S("p"),n.textContent="Server is valid"},m(e,t){w(e,n,t)},p:e,d(e){e&&N(n)}}}function Xr(t){let n;return{c(){n=S("p"),n.textContent="Checking if server is valid..."},m(e,t){w(e,n,t)},p:e,d(e){e&&N(n)}}}function Jr(e){let t,n,s,r,a,o,l,u,c,d,p,m,f,h,g,_,y,v,b,k,$,T,A,R,j,D,P,q,F,B,U,V,G,H,W,K,X,J,Y,ee,te,ne,se,ae,oe,le,ue,ce,de,pe,me,fe,ve,xe,Te,Se,Ie,Ee,Ae,Ce,ze,Le,Re,Oe,Ze,je,Me,De,Pe,qe,Fe,Be,Ue,Ve,Ge,He,We,Ke,Xe,Je=e[9](e[1].code,e[1].lang);o=new Dr({props:{progData:e[0]}});let Ye=Je&&Pr(e),Qe="table explicit"===e[1].type&&"triangle"===e[1].tableSettings.type&&qr(),et="table explicit"===e[1].type&&Fr(e);ue=new wn({props:{progData:e[0]}}),de=new yn({props:{progData:e[0]}});let tt="list"===e[1].type&&Br(e),nt="PARI"===e[1].lang&&Ur(e),st=e[4]!==e[7]&&Vr(e),rt={ctx:e,current:null,token:null,hasCatch:!0,pending:Xr,then:Hr,catch:Gr,value:31,error:32};function it(t){e[20](t)}be(je=gt(e[5],e[6]),rt);let at={};return void 0!==e[2]&&(at.status=e[2]),Ue=new At({props:at}),Q.push((()=>ke(Ue,"status",it))),He=new Ft({props:{status:e[2],progData:e[0]}}),{c(){t=S("div"),n=S("br"),s=E(),r=S("a"),r.textContent="Give feeback on bfile toolbox (opens in new tab.)",a=E(),$e(o.$$.fragment),l=S("br"),u=S("br"),c=E(),d=S("h1"),d.textContent="Code",p=E(),m=S("label"),f=I("Language:\n        "),h=S("select"),g=S("option"),_=S("option"),_.textContent="PARI",y=E(),v=S("br"),b=E(),k=S("label"),$=I("Code: "),T=S("br"),A=E(),R=S("textarea"),j=E(),D=S("br"),P=E(),Ye&&Ye.c(),q=E(),F=S("label"),B=I("Type:\n        "),U=S("select"),V=S("option"),V.textContent="Explicit",G=S("option"),G.textContent="List",H=S("option"),H.textContent="Check",W=S("option"),W.textContent="Table/Triangle explicit",K=E(),X=S("br"),J=E(),Y=S("label"),ee=I("Main function:\n        "),te=S("input"),ne=E(),se=S("br"),ae=E(),Qe&&Qe.c(),oe=E(),et&&et.c(),le=E(),$e(ue.$$.fragment),ce=E(),$e(de.$$.fragment),pe=E(),tt&&tt.c(),me=E(),nt&&nt.c(),fe=E(),ve=S("h1"),ve.textContent="Generated code:",xe=E(),Te=S("code"),Se=S("pre"),Ie=I(e[4]),Ee=E(),st&&st.c(),Ae=E(),Ce=S("h1"),Ce.textContent="Run",ze=E(),Le=S("label"),Re=I("Server: "),Oe=S("input"),Ze=E(),rt.block.c(),Me=E(),De=S("button"),De.textContent="Check server again",Pe=S("br"),qe=E(),Fe=S("button"),Fe.textContent="run",Be=E(),$e(Ue.$$.fragment),Ge=E(),$e(He.$$.fragment),L(r,"href","https://github.com/winstonDeGreef/bfile-toolbox/blob/main/feedback.md"),L(r,"target","_blank"),g.__value="",g.value=g.__value,_.__value="PARI",_.value=_.__value,L(h,"id","lang-"+e[8]),void 0===e[1].lang&&re((()=>e[11].call(h))),L(m,"for","lang-"+e[8]),L(R,"id","code-"+e[8]),L(R,"class","svelte-hp6uaf"),L(k,"for","code-"+e[8]),V.__value="explicit",V.value=V.__value,G.__value="list",G.value=G.__value,H.__value="check",H.value=H.__value,W.__value="table explicit",W.value=W.__value,L(U,"id","type-"+e[8]),void 0===e[1].type&&re((()=>e[15].call(U))),L(F,"for","type-"+e[8]),L(te,"id","main-"+e[8]),L(Y,"for","main-"+e[8]),L(Te,"class","code svelte-hp6uaf"),L(Oe,"id","toolbox--server"),L(Le,"for","toolbox--server"),L(t,"class","container svelte-hp6uaf")},m(i,N){w(i,t,N),x(t,n),x(t,s),x(t,r),x(t,a),we(o,t,null),x(t,l),x(t,u),x(t,c),x(t,d),x(t,p),x(t,m),x(m,f),x(m,h),x(h,g),x(h,_),M(h,e[1].lang,!0),x(t,y),x(t,v),x(t,b),x(t,k),x(k,$),x(k,T),x(k,A),x(k,R),e[12](R),Z(R,e[1].code),x(k,j),x(t,D),x(t,P),Ye&&Ye.m(t,null),x(t,q),x(t,F),x(F,B),x(F,U),x(U,V),x(U,G),x(U,H),x(U,W),M(U,e[1].type,!0),x(t,K),x(t,X),x(t,J),x(t,Y),x(Y,ee),x(Y,te),Z(te,e[1].main),x(Y,ne),x(t,se),x(t,ae),Qe&&Qe.m(t,null),x(t,oe),et&&et.m(t,null),x(t,le),we(ue,t,null),x(t,ce),we(de,t,null),x(t,pe),tt&&tt.m(t,null),x(t,me),nt&&nt.m(t,null),x(t,fe),x(t,ve),x(t,xe),x(t,Te),x(Te,Se),x(Se,Ie),x(t,Ee),st&&st.m(t,null),x(t,Ae),x(t,Ce),x(t,ze),x(t,Le),x(Le,Re),x(Le,Oe),Z(Oe,e[5]),x(t,Ze),rt.block.m(t,rt.anchor=null),rt.mount=()=>t,rt.anchor=Me,x(t,Me),x(t,De),x(t,Pe),x(t,qe),x(t,Fe),x(t,Be),we(Ue,t,null),x(t,Ge),we(He,t,null),We=!0,Ke||(Xe=[C(h,"change",e[11]),C(R,"input",e[13]),C(U,"change",e[15]),C(te,"input",e[16]),C(Oe,"input",e[17]),C(De,"click",z(e[18])),C(Fe,"click",z(e[19]))],Ke=!0)},p(n,s){e=n;const r={};1&s[0]&&(r.progData=e[0]),o.$set(r),2&s[0]&&M(h,e[1].lang),2&s[0]&&Z(R,e[1].code),2&s[0]&&(Je=e[9](e[1].code,e[1].lang)),Je?Ye?Ye.p(e,s):(Ye=Pr(e),Ye.c(),Ye.m(t,q)):Ye&&(Ye.d(1),Ye=null),2&s[0]&&M(U,e[1].type),2&s[0]&&te.value!==e[1].main&&Z(te,e[1].main),"table explicit"===e[1].type&&"triangle"===e[1].tableSettings.type?Qe||(Qe=qr(),Qe.c(),Qe.m(t,oe)):Qe&&(Qe.d(1),Qe=null),"table explicit"===e[1].type?et?(et.p(e,s),2&s[0]&&_e(et,1)):(et=Fr(e),et.c(),_e(et,1),et.m(t,le)):et&&(he(),ye(et,1,1,(()=>{et=null})),ge());const i={};1&s[0]&&(i.progData=e[0]),ue.$set(i);const a={};1&s[0]&&(a.progData=e[0]),de.$set(a),"list"===e[1].type?tt?(tt.p(e,s),2&s[0]&&_e(tt,1)):(tt=Br(e),tt.c(),_e(tt,1),tt.m(t,me)):tt&&(he(),ye(tt,1,1,(()=>{tt=null})),ge()),"PARI"===e[1].lang?nt?(nt.p(e,s),2&s[0]&&_e(nt,1)):(nt=Ur(e),nt.c(),_e(nt,1),nt.m(t,fe)):nt&&(he(),ye(nt,1,1,(()=>{nt=null})),ge()),(!We||16&s[0])&&O(Ie,e[4]),e[4]!==e[7]?st?st.p(e,s):(st=Vr(e),st.c(),st.m(t,Ae)):st&&(st.d(1),st=null),32&s[0]&&Oe.value!==e[5]&&Z(Oe,e[5]),rt.ctx=e,96&s[0]&&je!==(je=gt(e[5],e[6]))&&be(je,rt)||function(e,t,n){const s=t.slice(),{resolved:r}=e;e.current===e.then&&(s[e.value]=r),e.current===e.catch&&(s[e.error]=r),e.block.p(s,n)}(rt,e,s);const l={};!Ve&&4&s[0]&&(Ve=!0,l.status=e[2],ie((()=>Ve=!1))),Ue.$set(l);const u={};4&s[0]&&(u.status=e[2]),1&s[0]&&(u.progData=e[0]),He.$set(u)},i(e){We||(_e(o.$$.fragment,e),_e(et),_e(ue.$$.fragment,e),_e(de.$$.fragment,e),_e(tt),_e(nt),_e(Ue.$$.fragment,e),_e(He.$$.fragment,e),We=!0)},o(e){ye(o.$$.fragment,e),ye(et),ye(ue.$$.fragment,e),ye(de.$$.fragment,e),ye(tt),ye(nt),ye(Ue.$$.fragment,e),ye(He.$$.fragment,e),We=!1},d(n){n&&N(t),Ne(o),e[12](null),Ye&&Ye.d(),Qe&&Qe.d(),et&&et.d(),Ne(ue),Ne(de),tt&&tt.d(),nt&&nt.d(),st&&st.d(),rt.block.d(),rt.token=null,rt=null,Ne(Ue),Ne(He),Ke=!1,i(Xe)}}}let Yr=0;function Qr(t,n,s){let r,i,a=e,o=()=>(a(),a=l(f,(e=>s(1,i=e))),f);t.$$.on_destroy.push((()=>a()));let u=Yr++;const c=["PARI"],d={a:"explicit",lista:"list",vector_a:"list",isok:"check",T:"table explicit"};let p=Ae({running:!1,error:!1}),{progData:f}=n;o();let h=null;let g="";let _=i.type;const y={PARI:[{match:/^my\(N=30, x='x\+O\('x\^N\)\); (Vec\(.*\))$/,subst:"lista(n) = my(x='x + O('x^n)); $1"}]};function v(e,t){if(!t)return;let n=y[t];e=e.trim();for(let t of n)if(e.match(t.match))return e.replace(t.match,t.subst)}let b="",x=Number(document.getElementById("edit_Offset").innerText.split(",")[0]);let k="http://localhost:3946",$=0;return t.$$set=e=>{"progData"in e&&o(s(0,f=e.progData))},t.$$.update=()=>{var e;2&t.$$.dirty[0]&&function(e){let t=e.match(/^\((\w+)\)/);if(t){let n=t[1];if(c.includes(n)){if(!h)throw"codeEl is null. How???";let r=h.selectionStart,a=h.selectionEnd,o=e.slice(t[0].length).trimStart(),l=e.length-o.length;m(f,i.code=o,i),m(f,i.lang=n,i),s(3,h.selectionStart=Math.max(r-l,0),h),s(3,h.selectionEnd=Math.max(a-l,0),h),e=o}}for(let t of Object.keys(d))if(e.startsWith(t+"(")){i.main!==t&&m(f,i.main=t,i);break}}(i.code),2&t.$$.dirty[0]&&function(e){e!==g&&(g=e,i.type,e in d&&m(f,i.type=d[e],i))}(i.main),2&t.$$.dirty[0]&&(e=i.type)!==_&&(_=e,vn.dispatchComputeType(e,_)),2&t.$$.dirty[0]&&s(4,b=mt(i.code,i.main,i.type,x,i)),2&t.$$.dirty[0]&&s(7,r=mt(i.code,i.main,i.type,x,i,!1))},m(f,i.offset=x,i),[f,i,p,h,b,k,$,r,u,v,function(){let e=new Blob([r],{type:"text/plain"}),t=URL.createObjectURL(e);window.open(t,"_blank"),setTimeout((()=>URL.revokeObjectURL(t)),1e4)},function(){i.lang=D(this),f.set(i)},function(e){Q[e?"unshift":"push"]((()=>{h=e,s(3,h)}))},function(){i.code=this.value,f.set(i)},()=>m(f,i.code=v(i.code,i.lang),i),function(){i.type=D(this),f.set(i)},function(){i.main=this.value,f.set(i)},function(){k=this.value,s(5,k)},()=>s(6,$=Date.now()),()=>Lt(i,f,r,p,k),function(e){p=e,s(2,p)}]}class ei extends Ie{constructor(e){super(),Se(this,e,Qr,Jr,o,{progData:0},null,[-1,-1])}}function ti(t){let n,s,r=function(t){let n,s;return n=new ei({props:{progData:t[0]}}),{c(){$e(n.$$.fragment)},m(e,t){we(n,e,t),s=!0},p:e,i(e){s||(_e(n.$$.fragment,e),s=!0)},o(e){ye(n.$$.fragment,e),s=!1},d(e){Ne(n,e)}}}(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),w(e,n,t),s=!0},p(e,[t]){r.p(e,t)},i(e){s||(_e(r),s=!0)},o(e){ye(r),s=!1},d(e){r&&r.d(e),e&&N(n)}}}function ni(e,t,n){let{progData:s}={progData:Ae({lang:"",code:"",type:"explicit",main:"",offset:0,truncate:0,shouldTruncate:!1,version:"0.1",sequenceId:document.getElementsByName("seq")[0].value||"",includeHeader:!0,listSettings:{lengthGuessAlgorithm:{type:"linear",start:100,increment:100,customGuesses:[]}},checkSettings:{checkStart:0},tableSettings:{xoffset:0,yoffset:0,type:"square",squareUpward:!1},langSettings:{pari:{parisize:{amount:50,unit:"mb"},parisizemax:{amount:1,unit:"gb"},includeMemoize:!1}},maxResult:1e4,limit:{maxLineLength:1e3,maxIndex:{type:"index",maxAntidiaonal:150,maxIndex:1e4}},importBfilesFor:[],bfileIdealTransferBlocksize:100,timestamp:0,bfileHashes:{}})},{ourIndex:r}=t;return document.getElementById("upload_bfile"+r).checked=!0,document.getElementById("upload_tt_"+r).innerText=document.getElementById("upload_tt_"+r).innerText.replace("TITLE FOR LINK","Table of n, a(n) for n = MIN..MAX"),e.$$set=e=>{"ourIndex"in e&&n(1,r=e.ourIndex)},[s,r]}class si extends Ie{constructor(e){super(),Se(this,e,ni,ti,o,{ourIndex:1})}}function ri(e){let t,n,s,r;return t=new si({props:{ourIndex:e[0]}}),s=new Je({}),{c(){$e(t.$$.fragment),n=E(),$e(s.$$.fragment)},m(e,i){we(t,e,i),w(e,n,i),we(s,e,i),r=!0},p(e,[n]){const s={};1&n&&(s.ourIndex=e[0]),t.$set(s)},i(e){r||(_e(t.$$.fragment,e),_e(s.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),ye(s.$$.fragment,e),r=!1},d(e){Ne(t,e),e&&N(n),Ne(s,e)}}}function ii(e,t,n){let{ourIndex:s}=t;return e.$$set=e=>{"ourIndex"in e&&n(0,s=e.ourIndex)},[s]}class ai extends Ie{constructor(e){super(),Se(this,e,ii,ri,o,{ourIndex:0})}}let oi=document.createElement("div"),li=document.getElementById("add_upload");if(!li)throw"";li.insertAdjacentElement("afterend",oi),li.insertAdjacentElement("afterend",document.createElement("br"));let ui=document.createElement("button");ui.innerHTML="open bfile toolbox",ui.addEventListener("click",(e=>{e.target.remove(),e.preventDefault();let t=["upload0","upload1","upload2","upload3","upload4"].map((e=>document.getElementById(e))).findIndex((e=>e&&"none"===e.style.display));if(-1===t)throw alert('BFile toolbox: no available files. This extension expects the "I want to upload a supporting file to store with the OEIS and add a link to it." link to be available'),"";let n=document.querySelector("#add_upload a");n instanceof HTMLElement&&n.click(),new ai({target:oi,props:{ourIndex:t}})})),oi.appendChild(ui);return{}}();
//# sourceMappingURL=bundle.js.map
